2025-05-29 02:29:36.207 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-29 02:29:36.208 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-29 02:29:36.208 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-29 02:29:36.208 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-29 02:29:36.235 PM [[31merror[39m]: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m
{
  "errno": -3008,
  "code": "EDNS",
  "syscall": "getaddrinfo",
  "hostname": "smtp.example.com",
  "command": "CONN",
  "stack": "Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)"
}
2025-05-29 05:00:33.745 PM [[31merror[39m]: 	[31mFailed to connect to Redis:[39m
{
  "code": "ECONNREFUSED",
  "stack": "AggregateError: \n    at internalConnectMultiple (node:net:1139:18)\n    at afterConnectMultiple (node:net:1714:7)"
}
2025-05-29 05:00:33.746 PM [[33mwarn[39m]: 	[33mRunning without Redis. Rate limiting and caching will be disabled.[39m
2025-05-29 05:00:33.746 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-29 05:00:33.746 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-29 05:00:33.747 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-29 05:00:33.840 PM [[31merror[39m]: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m
{
  "errno": -3008,
  "code": "EDNS",
  "syscall": "getaddrinfo",
  "hostname": "smtp.example.com",
  "command": "CONN",
  "stack": "Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)"
}
2025-05-29 05:17:04.243 PM [[31merror[39m]: 	[31mFailed to connect to Redis:[39m
{
  "code": "ECONNREFUSED",
  "stack": "AggregateError: \n    at internalConnectMultiple (node:net:1139:18)\n    at afterConnectMultiple (node:net:1714:7)"
}
2025-05-29 05:17:04.244 PM [[33mwarn[39m]: 	[33mRunning without Redis. Rate limiting and caching will be disabled.[39m
2025-05-29 05:17:04.244 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-29 05:17:04.244 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-29 05:17:04.244 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-29 05:17:04.289 PM [[31merror[39m]: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m
{
  "errno": -3008,
  "code": "EDNS",
  "syscall": "getaddrinfo",
  "hostname": "smtp.example.com",
  "command": "CONN",
  "stack": "Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)"
}
2025-05-29 06:54:19.685 PM [[31merror[39m]: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m
{
  "errno": -3008,
  "code": "EDNS",
  "syscall": "getaddrinfo",
  "hostname": "smtp.example.com",
  "command": "CONN",
  "stack": "Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)"
}
2025-05-30 01:11:08.369 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:11:08.370 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:11:08.370 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:11:08.602 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 01:11:08.601 PM [[31merror[39m]: 	[31mPort 4000 is already in use[39m
2025-05-30 01:11:08.602 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 01:11:08.603 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 01:11:08.602 PM [[31merror[39m]: 	[31mPort 4000 is already in use[39m
2025-05-30 01:15:16.548 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 01:15:16.584 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 01:15:16.599 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 01:15:16.649 PM [[32minfo[39m]: 	[32mPrisma client disconnected[39m
2025-05-30 01:15:18.257 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:15:18.258 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:15:18.259 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:15:18.323 PM [[31merror[39m]: 	[31mPort 4000 is already in use[39m
2025-05-30 01:15:18.323 PM [[31merror[39m]: 	[31mPort 4000 is already in use[39m
2025-05-30 01:15:18.323 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 01:15:18.323 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 01:15:18.323 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 01:15:46.875 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 01:15:50.444 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:15:50.444 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:15:50.444 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 01:15:51.243 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 01:15:51.243 PM [[31merror[39m]: 	[31mPort 4000 is already in use[39m
2025-05-30 01:15:51.243 PM [[31merror[39m]: 	[31mPort 4000 is already in use[39m
2025-05-30 01:15:51.245 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 01:15:51.245 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 03:25:32.363 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 03:25:32.416 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 03:25:32.416 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 03:25:32.416 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 03:25:40.147 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 03:25:40.148 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 03:25:40.150 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 03:25:40.150 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 03:25:40.161 PM [[31merror[39m]: 	[31mUnhandled Rejection at: The client is closed[39m
{
  "stack": "Error: The client is closed\n    at RedisSocket.quit (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@redis/client/dist/lib/client/socket.js:70:19)\n    at Commander.QUIT (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@redis/client/dist/lib/client/index.js:260:71)\n    at /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:310:25\n    at Server.close (node:net:2358:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"
}
2025-05-30 03:25:40.162 PM [[31merror[39m]: 	[31mUnhandled Rejection: The client is closed[39m
2025-05-30 03:25:40.162 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 03:25:40.169 PM [[32minfo[39m]: 	[32mPrisma client disconnected[39m
2025-05-30 03:34:59.487 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 03:34:59.531 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 03:34:59.532 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 03:34:59.532 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 03:35:10.353 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 03:35:10.357 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 03:35:10.358 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 03:35:10.358 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 03:35:10.368 PM [[31merror[39m]: 	[31mUnhandled Rejection at: The client is closed[39m
{
  "stack": "Error: The client is closed\n    at RedisSocket.quit (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@redis/client/dist/lib/client/socket.js:70:19)\n    at Commander.QUIT (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@redis/client/dist/lib/client/index.js:260:71)\n    at /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:310:25\n    at Server.close (node:net:2358:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"
}
2025-05-30 03:35:10.369 PM [[31merror[39m]: 	[31mUnhandled Rejection: The client is closed[39m
2025-05-30 03:35:10.371 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 03:35:10.378 PM [[32minfo[39m]: 	[32mPrisma client disconnected[39m
2025-05-30 03:36:44.329 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 03:36:44.381 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 03:36:44.381 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 03:36:44.381 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 03:36:47.193 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 03:36:47.194 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 03:36:47.197 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 03:36:47.203 PM [[32minfo[39m]: 	[32mPrisma client disconnected[39m
2025-05-30 03:38:06.426 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 03:38:06.473 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 03:38:06.473 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 03:38:06.473 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 03:49:55.711 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
2025-05-30 03:49:56.249 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
2025-05-30 03:49:56.264 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 05:16:08.486 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:16:08.543 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 05:16:08.638 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:16:08.741 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:16:08.741 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:16:08.748 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 05:16:44.792 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:16:44.850 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 05:16:44.936 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:16:44.944 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:16:44.944 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:16:45.025 PM [[31merror[39m]: 	[31mDatabase error detected [39m
[31m[31mInvalid [1m`prisma.$queryRaw()`[22m invocation:[31m[39m


[31mRaw query failed. Code: `42P01`. Message: `relation "analysis_cache" does not exist`[39m
{
  "target": "$queryRaw"
}
2025-05-30 05:16:45.029 PM [[31merror[39m]: 	[31mFailed to get cache stats: [39m
[31m[31mInvalid [1m`prisma.$queryRaw()`[22m invocation:[31m[39m


[31mRaw query failed. Code: `42P01`. Message: `relation "analysis_cache" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42P01",
    "message": "relation \"analysis_cache\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`prisma.$queryRaw()`\u001b[22m invocation:\u001b[39m\n\n\nRaw query failed. Code: `42P01`. Message: `relation \"analysis_cache\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async Promise.all (index 2)\n    at async DatabaseService.getCacheStats (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:1359:11)\n    at async DatabaseVerification.testCaching (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/verify-database-integration.ts:311:26)\n    at async DatabaseVerification.run (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/verify-database-integration.ts:68:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/verify-database-integration.ts:425:21)"
}
2025-05-30 05:16:45.031 PM [[31merror[39m]: 	[31mDatabase error detected [39m
[31m[31mInvalid [1m`prisma.$queryRaw()`[22m invocation:[31m[39m


[31mRaw query failed. Code: `42P01`. Message: `relation "analysis_cache" does not exist`[39m
{
  "target": "$queryRaw"
}
2025-05-30 05:16:45.036 PM [[31merror[39m]: 	[31mDatabase error detected [39m
[31m[31mInvalid [1m`prisma.$queryRaw()`[22m invocation:[31m[39m


[31mRaw query failed. Code: `42P01`. Message: `relation "analysis_cache" does not exist`[39m
{
  "target": "$queryRaw"
}
2025-05-30 05:30:08.880 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:30:08.952 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 05:30:09.066 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:30:09.075 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:30:09.075 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:30:09.082 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 05:32:42.972 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:32:43.005 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 05:32:43.077 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:32:43.083 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:32:43.084 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:32:43.084 PM [[32minfo[39m]: 	[32m🧪 Starting comprehensive database integration tests...[39m
2025-05-30 05:32:43.095 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:32:43.098 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:32:43.100 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:32:43.101 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:32:43.101 PM [[32minfo[39m]: 	[32m✅ Database Connection: Database connection is healthy and accessible (17ms)[39m
2025-05-30 05:32:43.107 PM [[32minfo[39m]: 	[32m❌ Schema Integrity: Schema validation failed: Error: Missing required tables: users, projects, crawl_sessions, seo_analyses, seo_issues, seo_recommendations, meta_tags, analysis_cache, content_analyses, performance_metrics (6ms)[39m
2025-05-30 05:32:43.108 PM [[32minfo[39m]: 	[32m✅ Data Validation: All data validation tests passed (0ms)[39m
2025-05-30 05:32:43.116 PM [[32minfo[39m]: 	[32m✅ Query Performance: All queries performed within acceptable limits (8ms)[39m
2025-05-30 05:32:43.144 PM [[32minfo[39m]: 	[32m✅ Concurrent Operations: Concurrent operations completed successfully (27ms)[39m
2025-05-30 05:32:43.148 PM [[32minfo[39m]: 	[32m✅ Data Consistency: No data consistency issues found (4ms)[39m
2025-05-30 05:32:43.152 PM [[32minfo[39m]: 	[32m✅ Index Effectiveness: Index effectiveness analysis completed (4ms)[39m
2025-05-30 05:32:43.177 PM [[32minfo[39m]: 	[32m✅ Transaction Integrity: Transaction commit and rollback working correctly (24ms)[39m
2025-05-30 05:32:43.181 PM [[32minfo[39m]: 	[32m✅ Cache Operations: Cache write, read, and delete operations working correctly (4ms)[39m
2025-05-30 05:32:43.181 PM [[32minfo[39m]: 	[32m[39m
[32m📊 Database Integration Test Report:[39m
2025-05-30 05:32:43.181 PM [[32minfo[39m]: 	[32m✅ Passed: 8/9[39m
2025-05-30 05:32:43.181 PM [[32minfo[39m]: 	[32m⚠️  Warnings: 0/9[39m
2025-05-30 05:32:43.181 PM [[32minfo[39m]: 	[32m❌ Failed: 1/9[39m
2025-05-30 05:32:43.181 PM [[31merror[39m]: 	[31m[39m
[31m❌ Failed Tests:[39m
2025-05-30 05:32:43.181 PM [[31merror[39m]: 	[31m  - Schema Integrity: Schema validation failed: Error: Missing required tables: users, projects, crawl_sessions, seo_analyses, seo_issues, seo_recommendations, meta_tags, analysis_cache, content_analyses, performance_metrics[39m
2025-05-30 05:32:43.181 PM [[32minfo[39m]: 	[32m[39m
[32m🏁 Overall Status: ❌ FAILED[39m
2025-05-30 05:32:43.193 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 05:37:43.911 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:37:44.363 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 05:37:44.407 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:37:44.440 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:37:44.440 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:37:44.441 PM [[32minfo[39m]: 	[32m🧪 Starting comprehensive database integration tests...[39m
2025-05-30 05:37:44.456 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:37:44.460 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:37:44.471 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:37:44.472 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:37:44.472 PM [[32minfo[39m]: 	[32m✅ Database Connection: Database connection is healthy and accessible (31ms)[39m
2025-05-30 05:37:44.480 PM [[32minfo[39m]: 	[32m✅ Schema Integrity: Schema is complete with 20 tables and 139 indexes (8ms)[39m
2025-05-30 05:37:44.480 PM [[32minfo[39m]: 	[32m✅ Data Validation: All data validation tests passed (0ms)[39m
2025-05-30 05:37:44.488 PM [[32minfo[39m]: 	[32m✅ Query Performance: All queries performed within acceptable limits (8ms)[39m
2025-05-30 05:37:44.510 PM [[32minfo[39m]: 	[32m✅ Concurrent Operations: Concurrent operations completed successfully (22ms)[39m
2025-05-30 05:37:44.513 PM [[32minfo[39m]: 	[32m✅ Data Consistency: No data consistency issues found (3ms)[39m
2025-05-30 05:37:44.517 PM [[32minfo[39m]: 	[32m✅ Index Effectiveness: Index effectiveness analysis completed (4ms)[39m
2025-05-30 05:37:44.532 PM [[32minfo[39m]: 	[32m✅ Transaction Integrity: Transaction commit and rollback working correctly (15ms)[39m
2025-05-30 05:37:44.537 PM [[32minfo[39m]: 	[32m✅ Cache Operations: Cache write, read, and delete operations working correctly (5ms)[39m
2025-05-30 05:37:44.537 PM [[32minfo[39m]: 	[32m[39m
[32m📊 Database Integration Test Report:[39m
2025-05-30 05:37:44.537 PM [[32minfo[39m]: 	[32m✅ Passed: 9/9[39m
2025-05-30 05:37:44.537 PM [[32minfo[39m]: 	[32m⚠️  Warnings: 0/9[39m
2025-05-30 05:37:44.537 PM [[32minfo[39m]: 	[32m❌ Failed: 0/9[39m
2025-05-30 05:37:44.537 PM [[32minfo[39m]: 	[32m[39m
[32m🏁 Overall Status: ✅ PASSED[39m
2025-05-30 05:37:44.548 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 05:38:04.519 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:38:04.527 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 05:38:04.664 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:38:04.671 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:38:04.671 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:38:04.671 PM [[32minfo[39m]: 	[32m🧪 Starting comprehensive database integration tests...[39m
2025-05-30 05:38:04.685 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 05:38:04.688 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 05:38:04.691 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 05:38:04.691 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 05:38:04.692 PM [[32minfo[39m]: 	[32m✅ Database Connection: Database connection is healthy and accessible (21ms)[39m
2025-05-30 05:38:04.697 PM [[32minfo[39m]: 	[32m✅ Schema Integrity: Schema is complete with 20 tables and 139 indexes (5ms)[39m
2025-05-30 05:38:04.698 PM [[32minfo[39m]: 	[32m✅ Data Validation: All data validation tests passed (0ms)[39m
2025-05-30 05:38:04.709 PM [[32minfo[39m]: 	[32m✅ Query Performance: All queries performed within acceptable limits (11ms)[39m
2025-05-30 05:38:04.747 PM [[32minfo[39m]: 	[32m✅ Concurrent Operations: Concurrent operations completed successfully (37ms)[39m
2025-05-30 05:38:04.751 PM [[32minfo[39m]: 	[32m✅ Data Consistency: No data consistency issues found (4ms)[39m
2025-05-30 05:38:04.761 PM [[32minfo[39m]: 	[32m✅ Index Effectiveness: Index effectiveness analysis completed (9ms)[39m
2025-05-30 05:38:04.780 PM [[32minfo[39m]: 	[32m✅ Transaction Integrity: Transaction commit and rollback working correctly (19ms)[39m
2025-05-30 05:38:04.790 PM [[32minfo[39m]: 	[32m✅ Cache Operations: Cache write, read, and delete operations working correctly (9ms)[39m
2025-05-30 05:38:04.790 PM [[32minfo[39m]: 	[32m[39m
[32m📊 Database Integration Test Report:[39m
2025-05-30 05:38:04.790 PM [[32minfo[39m]: 	[32m✅ Passed: 9/9[39m
2025-05-30 05:38:04.790 PM [[32minfo[39m]: 	[32m⚠️  Warnings: 0/9[39m
2025-05-30 05:38:04.790 PM [[32minfo[39m]: 	[32m❌ Failed: 0/9[39m
2025-05-30 05:38:04.790 PM [[32minfo[39m]: 	[32m[39m
[32m🏁 Overall Status: ✅ PASSED[39m
2025-05-30 05:38:04.804 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 05:38:05.725 PM [[32minfo[39m]: 	[32m🏥 Starting database health check...[39m
2025-05-30 05:38:05.783 PM [[32minfo[39m]: 	[32m🏥 Starting database health check...[39m
2025-05-30 06:02:56.837 PM [[32minfo[39m]: 	[32m🚀 Starting comprehensive database setup for SEO analysis workflow...[39m
2025-05-30 06:02:56.838 PM [[32minfo[39m]: 	[32m✅ Environment Validation: All required environment variables are present and valid (0ms)[39m
2025-05-30 06:02:56.945 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:02:56.945 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:02:57.106 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:02:57.116 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:02:57.116 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:02:57.122 PM [[32minfo[39m]: 	[32m✅ Database Connectivity: Database connection is healthy with optimized pooling (283ms)[39m
2025-05-30 06:02:57.131 PM [[32minfo[39m]: 	[32m✅ Schema Integrity: Schema is complete with 20 tables and proper relationships (9ms)[39m
2025-05-30 06:02:57.134 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:02:57.135 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:02:57.147 PM [[32minfo[39m]: 	[32m✅ Performance Optimization: Database performance optimized for SEO analysis workloads (16ms)[39m
2025-05-30 06:02:57.151 PM [[32minfo[39m]: 	[32m✅ Index Setup: Database has 139 indexes optimized for SEO queries (4ms)[39m
2025-05-30 06:02:57.168 PM [[32minfo[39m]: 	[32m✅ Data Integrity Validation: Data validation working correctly (4/4 tests passed) (17ms)[39m
2025-05-30 06:02:57.170 PM [[32minfo[39m]: 	[32m✅ Basic Data Seeding: Database already contains 1 users and 3 projects (2ms)[39m
2025-05-30 06:02:57.198 PM [[32minfo[39m]: 	[32m✅ Concurrent Operations Test: Successfully handled 10 concurrent operations (28ms)[39m
2025-05-30 06:02:57.204 PM [[32minfo[39m]: 	[32m✅ Query Performance Validation: All critical queries meet performance requirements (5ms)[39m
2025-05-30 06:02:57.235 PM [[32minfo[39m]: 	[32m✅ Final Verification: Database is fully optimized and ready for SEO analysis operations (31ms)[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m[39m
[32m📊 Comprehensive Database Setup Report:[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m✅ Successful: 10/10[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m⚠️  Warnings: 0/10[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m❌ Errors: 0/10[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m[39m
[32m🎉 DATABASE READY FOR PRODUCTION[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m✅ All critical requirements met[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m✅ Performance optimized for SEO analysis[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m✅ Data integrity validated[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m✅ Concurrent operations supported[39m
2025-05-30 06:02:57.236 PM [[32minfo[39m]: 	[32m[39m
[32m🏁 Setup Status: ✅ COMPLETED[39m
2025-05-30 06:21:44.491 PM [[32minfo[39m]: 	[32m🚀 Starting comprehensive database setup for SEO analysis workflow...[39m
2025-05-30 06:21:44.493 PM [[32minfo[39m]: 	[32m✅ Environment Validation: All required environment variables are present and valid (0ms)[39m
2025-05-30 06:21:44.582 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:21:44.583 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:21:44.639 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:21:44.649 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:21:44.649 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:21:44.657 PM [[32minfo[39m]: 	[32m✅ Database Connectivity: Database connection is healthy with optimized pooling (163ms)[39m
2025-05-30 06:21:44.668 PM [[32minfo[39m]: 	[32m✅ Schema Integrity: Schema is complete with 20 tables and proper relationships (11ms)[39m
2025-05-30 06:21:44.672 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:21:44.672 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:21:44.690 PM [[32minfo[39m]: 	[32m✅ Performance Optimization: Database performance optimized for SEO analysis workloads (22ms)[39m
2025-05-30 06:21:44.694 PM [[32minfo[39m]: 	[32m✅ Index Setup: Database has 140 indexes optimized for SEO queries (3ms)[39m
2025-05-30 06:21:44.759 PM [[32minfo[39m]: 	[32m✅ Data Integrity Validation: Data validation working correctly (4/4 tests passed) (64ms)[39m
2025-05-30 06:21:44.779 PM [[32minfo[39m]: 	[32m✅ Basic Data Seeding: Minimal test data created successfully (20ms)[39m
2025-05-30 06:21:44.806 PM [[32minfo[39m]: 	[32m✅ Concurrent Operations Test: Successfully handled 10 concurrent operations (27ms)[39m
2025-05-30 06:21:44.810 PM [[32minfo[39m]: 	[32m✅ Query Performance Validation: All critical queries meet performance requirements (4ms)[39m
2025-05-30 06:21:44.834 PM [[32minfo[39m]: 	[32m✅ Final Verification: Database is fully optimized and ready for SEO analysis operations (24ms)[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m[39m
[32m📊 Comprehensive Database Setup Report:[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m✅ Successful: 10/10[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m⚠️  Warnings: 0/10[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m❌ Errors: 0/10[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m[39m
[32m🎉 DATABASE READY FOR PRODUCTION[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m✅ All critical requirements met[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m✅ Performance optimized for SEO analysis[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m✅ Data integrity validated[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m✅ Concurrent operations supported[39m
2025-05-30 06:21:44.835 PM [[32minfo[39m]: 	[32m[39m
[32m🏁 Setup Status: ✅ COMPLETED[39m
2025-05-30 06:53:13.879 PM [[32minfo[39m]: 	[32mGenerating new RSA key pair for JWT signing...[39m
2025-05-30 06:53:13.932 PM [[32minfo[39m]: 	[32mGenerated and saved new RSA key pair[39m
2025-05-30 06:53:14.022 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:54:24.336 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-30 06:54:24.452 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 06:54:24.454 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:54:24.455 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:54:24.462 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:54:24.570 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:54:24.579 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:54:24.579 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:54:24.579 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 06:54:24.580 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 06:54:24.580 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 06:55:30.820 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 06:55:30.826 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 06:55:30.838 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 06:55:30.848 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 06:55:32.382 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-30 06:55:32.443 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:55:32.444 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 06:55:32.445 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:55:32.449 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:55:32.487 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "1ms",
  "pgVersion": "15.13"
}
2025-05-30 06:55:32.494 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:55:32.494 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:55:32.494 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 06:55:32.494 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 06:55:32.494 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 06:56:35.879 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 06:56:35.889 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 06:56:35.907 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 06:56:35.915 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 06:56:38.544 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-30 06:56:38.685 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 06:56:38.686 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:56:38.690 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:56:38.693 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:56:38.790 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:56:38.799 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:56:38.799 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:56:38.800 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 06:56:38.800 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 06:56:38.800 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 06:56:48.278 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 06:56:48.283 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 06:56:48.292 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 06:56:48.299 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 06:56:49.734 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-30 06:56:49.810 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:56:49.810 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 06:56:49.811 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:56:49.812 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:56:49.860 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:56:49.868 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:56:49.868 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:56:49.868 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 06:56:49.869 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 06:56:49.869 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 06:56:54.737 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 06:56:54.740 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 06:56:54.752 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 06:56:54.759 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 06:56:55.977 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-30 06:56:56.032 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:56:56.034 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 06:56:56.034 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:56:56.034 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:56:56.073 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:56:56.080 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:56:56.080 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:56:56.080 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 06:56:56.081 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 06:56:56.081 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 06:57:25.422 PM [[32minfo[39m]: 	[32mShutting down server...[39m
2025-05-30 06:57:25.427 PM [[32minfo[39m]: 	[32mHTTP server closed[39m
2025-05-30 06:57:25.436 PM [[32minfo[39m]: 	[32mRedis client disconnected[39m
2025-05-30 06:57:25.450 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-30 06:57:26.832 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-30 06:57:26.894 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-30 06:57:26.894 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-30 06:57:26.895 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-30 06:57:26.897 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-30 06:57:26.938 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-30 06:57:26.948 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-30 06:57:26.948 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-30 06:57:26.948 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-30 06:57:26.949 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-30 06:57:26.949 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-30 06:57:33.172 PM [[31merror[39m]: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m
{
  "errno": -3008,
  "code": "EDNS",
  "syscall": "getaddrinfo",
  "hostname": "smtp.example.com",
  "command": "CONN",
  "stack": "Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)"
}
2025-05-30 06:57:33.178 PM [[31merror[39m]: 	[31mFailed to initialize email service: Failed to initialize email service[39m
{
  "stack": "Error: Failed to initialize email service\n    at /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/email.service.ts:116:18\n    at SMTPConnection.<anonymous> (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/nodemailer/lib/smtp-transport/index.js:347:24)\n    at Object.onceWrapper (node:events:633:26)\n    at SMTPConnection.emit (node:events:518:28)\n    at SMTPConnection._onError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/nodemailer/lib/smtp-connection/index.js:799:14)\n    at Immediate.<anonymous> (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/nodemailer/lib/smtp-connection/index.js:344:52)\n    at processImmediate (node:internal/timers:485:21)"
}
2025-05-30 06:57:33.178 PM [[33mwarn[39m]: 	[33mEmail service will be disabled[39m
2025-05-30 06:57:33.178 PM [[33mwarn[39m]: 	[33mEmail service is not available, skipping email send[39m
2025-05-30 06:57:33.210 PM [[32minfo[39m]: 	[32mSecurity event[39m
{
  "userId": "e5a3a05f-5b9e-4852-813e-8653b9c457f3",
  "email": "test@example.com",
  "event": "user_registered",
  "userAgent": "curl/8.7.1",
  "ipAddress": "::1"
}
2025-05-30 06:57:33.211 PM [[32minfo[39m]: 	[32mUser registered successfully[39m
{
  "userId": "e5a3a05f-5b9e-4852-813e-8653b9c457f3",
  "email": "test@example.com",
  "ipAddress": "::1"
}
2025-05-30 06:57:40.110 PM [[32minfo[39m]: 	[32mSecurity event[39m
{
  "userId": "e5a3a05f-5b9e-4852-813e-8653b9c457f3",
  "email": "test@example.com",
  "event": "login_attempt_unverified",
  "userAgent": "curl/8.7.1",
  "ipAddress": "::1"
}
2025-05-30 06:58:00.002 PM [[32minfo[39m]: 	[32mSecurity event[39m
{
  "userId": "e5a3a05f-5b9e-4852-813e-8653b9c457f3",
  "email": "test@example.com",
  "event": "login_success",
  "userAgent": "curl/8.7.1",
  "ipAddress": "::1"
}
2025-05-30 06:58:00.003 PM [[32minfo[39m]: 	[32mUser logged in successfully[39m
{
  "userId": "e5a3a05f-5b9e-4852-813e-8653b9c457f3",
  "email": "test@example.com",
  "ipAddress": "::1",
  "userAgent": "curl/8.7.1"
}
2025-05-31 09:08:59.635 AM [[32minfo[39m]: 	[32m🚀 Starting database optimization for SEO analysis workflow...[39m
2025-05-31 09:08:59.636 AM [[32minfo[39m]: 	[32m🔌 Validating database connection...[39m
2025-05-31 09:08:59.760 AM [[32minfo[39m]: 	[32m📊 PostgreSQL version: PostgreSQL 15.13 (Debian 15.13-1.pgdg120+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit[39m
2025-05-31 09:08:59.773 AM [[32minfo[39m]: 	[32m🔗 Max connections: 100[39m
2025-05-31 09:08:59.816 AM [[32minfo[39m]: 	[32m📋 Tables in schema: 22[39m
2025-05-31 09:08:59.816 AM [[32minfo[39m]: 	[32m✅ Database connection validated[39m
2025-05-31 09:08:59.816 AM [[32minfo[39m]: 	[32m📈 Optimizing database indexes for SEO analysis queries...[39m
2025-05-31 09:08:59.831 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_users_email_verified creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "email_verified" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"email_verified\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"email_verified\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.833 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_users_subscription_active creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "subscription_tier" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"subscription_tier\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"subscription_tier\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.841 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_projects_user_active_score creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "user_id" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"user_id\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"user_id\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.873 AM [[32minfo[39m]: 	[32m✅ Created/verified index: idx_projects_url_hash[39m
2025-05-31 09:08:59.876 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_seo_analyses_project_recent creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "overall_score" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"overall_score\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"overall_score\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.877 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_seo_analyses_score_distribution creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "overall_score" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"overall_score\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"overall_score\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.879 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_seo_issues_priority_matrix creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "business_impact" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"business_impact\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"business_impact\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.881 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_seo_issues_category_stats creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "analysis_id" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"analysis_id\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"analysis_id\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.883 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_analysis_cache_cleanup creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "expires_at" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"expires_at\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"expires_at\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.885 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_analysis_cache_lru creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "access_count" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"access_count\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"access_count\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.888 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_issue_trends_analytics creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "project_id" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"project_id\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"project_id\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.890 AM [[33mwarn[39m]: 	[33m⚠️ Index idx_performance_metrics_vitals creation skipped: [39m
[33mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[33mRaw query failed. Code: `42703`. Message: `column "performance_score" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"performance_score\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"performance_score\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.optimizeIndexes (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:155:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:19:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.900 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: users[39m
2025-05-31 09:08:59.904 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: projects[39m
2025-05-31 09:08:59.906 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: crawl_sessions[39m
2025-05-31 09:08:59.908 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: seo_analyses[39m
2025-05-31 09:08:59.914 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: seo_issues[39m
2025-05-31 09:08:59.916 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: seo_recommendations[39m
2025-05-31 09:08:59.918 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: analysis_cache[39m
2025-05-31 09:08:59.920 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: issue_trends[39m
2025-05-31 09:08:59.921 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: performance_metrics[39m
2025-05-31 09:08:59.922 AM [[32minfo[39m]: 	[32m📊 Updated statistics for table: content_analyses[39m
2025-05-31 09:08:59.922 AM [[32minfo[39m]: 	[32m✅ Database indexes optimized[39m
2025-05-31 09:08:59.922 AM [[32minfo[39m]: 	[32m🏊 Setting up optimized connection pooling...[39m
2025-05-31 09:08:59.923 AM [[33mwarn[39m]: 	[33m⚠️ Could not apply setting: SET shared_preload_libraries = 'pg_stat_statements'[39m
2025-05-31 09:08:59.924 AM [[33mwarn[39m]: 	[33m⚠️ Could not apply setting: SET max_connections = 200[39m
2025-05-31 09:08:59.924 AM [[33mwarn[39m]: 	[33m⚠️ Could not apply setting: SET shared_buffers = '256MB'[39m
2025-05-31 09:08:59.927 AM [[33mwarn[39m]: 	[33m⚠️ Could not apply setting: SET checkpoint_completion_target = 0.9[39m
2025-05-31 09:08:59.928 AM [[33mwarn[39m]: 	[33m⚠️ Could not apply setting: SET wal_buffers = '16MB'[39m
2025-05-31 09:08:59.931 AM [[32minfo[39m]: 	[32m✅ Connection pooling configured[39m
2025-05-31 09:08:59.931 AM [[32minfo[39m]: 	[32m⚡ Configuring performance settings for SEO analysis workloads...[39m
2025-05-31 09:08:59.937 AM [[32minfo[39m]: 	[32m✅ Performance settings configured[39m
2025-05-31 09:08:59.937 AM [[32minfo[39m]: 	[32m📊 Setting up analytics views for dashboard queries...[39m
2025-05-31 09:08:59.941 AM [[31merror[39m]: 	[31m❌ Failed to create view v_project_dashboard_stats: [39m
[31mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[31mRaw query failed. Code: `42703`. Message: `column "overall_score" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"overall_score\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"overall_score\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.setupAnalyticsViews (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:338:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:22:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.943 AM [[31merror[39m]: 	[31m❌ Failed to create view v_user_analytics_summary: [39m
[31mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[31mRaw query failed. Code: `42703`. Message: `column p.user_id does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column p.user_id does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column p.user_id does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.setupAnalyticsViews (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:338:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:22:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.949 AM [[31merror[39m]: 	[31m❌ Failed to create view v_issue_trend_analytics: [39m
[31mInvalid `prisma.$executeRawUnsafe()` invocation:[39m


[31mRaw query failed. Code: `42703`. Message: `column sa.project_id does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column sa.project_id does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$executeRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column sa.project_id does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.setupAnalyticsViews (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:338:9)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:22:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.949 AM [[32minfo[39m]: 	[32m✅ Analytics views configured[39m
2025-05-31 09:08:59.949 AM [[32minfo[39m]: 	[32m🔍 Validating data integrity constraints...[39m
2025-05-31 09:08:59.950 AM [[31merror[39m]: 	[31m❌ Failed to run check Orphaned analyses check: [39m
[31mInvalid `prisma.$queryRawUnsafe()` invocation:[39m


[31mRaw query failed. Code: `42703`. Message: `column sa.project_id does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column sa.project_id does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$queryRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column sa.project_id does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.validateDataIntegrity (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:394:24)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:23:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.951 AM [[31merror[39m]: 	[31m❌ Failed to run check Invalid score ranges check: [39m
[31mInvalid `prisma.$queryRawUnsafe()` invocation:[39m


[31mRaw query failed. Code: `42703`. Message: `column "overall_score" does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column \"overall_score\" does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$queryRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column \"overall_score\" does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.validateDataIntegrity (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:394:24)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:23:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.953 AM [[31merror[39m]: 	[31m❌ Failed to run check Orphaned issues check: [39m
[31mInvalid `prisma.$queryRawUnsafe()` invocation:[39m


[31mRaw query failed. Code: `42703`. Message: `column si.analysis_id does not exist`[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2010",
  "clientVersion": "5.22.0",
  "meta": {
    "code": "42703",
    "message": "column si.analysis_id does not exist"
  },
  "stack": "PrismaClientKnownRequestError: \nInvalid `prisma.$queryRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42703`. Message: `column si.analysis_id does not exist`\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async DatabaseOptimizer.validateDataIntegrity (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:394:24)\n    at async DatabaseOptimizer.optimizeDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:23:7)\n    at async main (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/optimize-database.ts:563:5)"
}
2025-05-31 09:08:59.965 AM [[32minfo[39m]: 	[32m✅ Invalid URL formats check: No issues found[39m
2025-05-31 09:08:59.965 AM [[32minfo[39m]: 	[32m✅ Data integrity validation completed[39m
2025-05-31 09:08:59.965 AM [[32minfo[39m]: 	[32m📈 Setting up performance monitoring...[39m
2025-05-31 09:08:59.995 AM [[32minfo[39m]: 	[32m✅ Created monitoring function[39m
2025-05-31 09:08:59.996 AM [[32minfo[39m]: 	[32m✅ Created monitoring function[39m
2025-05-31 09:08:59.996 AM [[32minfo[39m]: 	[32m✅ Performance monitoring setup completed[39m
2025-05-31 09:08:59.996 AM [[32minfo[39m]: 	[32m✅ Database optimization completed successfully![39m
2025-05-31 09:09:00.002 AM [[32minfo[39m]: 	[32m🏃 Running database performance test...[39m
2025-05-31 09:09:00.034 AM [[32minfo[39m]: 	[32m✅ Project dashboard query: 32ms[39m
2025-05-31 09:09:00.036 AM [[32minfo[39m]: 	[32m✅ Analysis with issues query: 2ms[39m
2025-05-31 09:09:00.038 AM [[32minfo[39m]: 	[32m✅ Analytics aggregation query: 2ms[39m
2025-05-31 09:09:00.038 AM [[32minfo[39m]: 	[32m✅ Performance test completed[39m
2025-05-31 09:52:42.695 AM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 09:52:42.715 AM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 09:52:42.715 AM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 09:52:42.917 AM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:52:42.918 AM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 09:52:42.918 AM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 09:52:42.919 AM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 09:52:42.919 AM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 09:52:42.921 AM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 09:52:43.047 AM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 09:52:43.055 AM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 09:52:43.055 AM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 09:52:43.056 AM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 09:52:43.056 AM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 09:52:43.056 AM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 09:52:44.058 AM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 09:52:44.058 AM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 09:52:44.070 AM [[31merror[39m]: 	[31mFailed to initialize Enhanced Analysis System: this.queueAdapter.healthCheck is not a function[39m
{
  "stack": "TypeError: this.queueAdapter.healthCheck is not a function\n    at EnhancedAnalysisSystem.initializeQueue (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:66:29)\n    at EnhancedAnalysisSystem.initialize (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:43:18)\n    at initializeAnalysisSystem (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:293:24)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:268:35)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:52:44.071 AM [[31merror[39m]: 	[31mFailed to initialize Enhanced Analysis System: Analysis system initialization failed: TypeError: this.queueAdapter.healthCheck is not a function[39m
{
  "stack": "Error: Analysis system initialization failed: TypeError: this.queueAdapter.healthCheck is not a function\n    at EnhancedAnalysisSystem.initialize (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:57:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at initializeAnalysisSystem (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:293:3)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:268:11)"
}
2025-05-31 09:52:48.579 AM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 09:52:48.631 AM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 09:52:48.632 AM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 09:52:48.765 AM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 09:52:48.767 AM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 09:52:48.767 AM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 09:52:48.768 AM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 09:52:48.768 AM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 09:52:48.770 AM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:52:48.823 AM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 09:52:48.830 AM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 09:52:52.719 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:52:54.060 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:02.728 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:04.062 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:12.736 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:14.063 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:22.722 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:24.083 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:32.735 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:34.071 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:42.727 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:44.071 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:52.745 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:53:54.073 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:02.754 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:04.074 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:12.735 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:14.075 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:22.743 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:24.081 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:32.736 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:54:34.079 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:16.223 AM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 09:55:16.280 AM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 09:55:16.280 AM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 09:55:16.456 AM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 09:55:16.456 AM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 09:55:16.457 AM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 09:55:16.458 AM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 09:55:16.459 AM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:55:16.462 AM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 09:55:16.525 AM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 09:55:16.534 AM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 09:55:16.534 AM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 09:55:16.534 AM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 09:55:16.534 AM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 09:55:16.535 AM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 09:55:17.540 AM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 09:55:17.541 AM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 09:55:17.565 AM [[31merror[39m]: 	[31mFailed to initialize Enhanced Analysis System: this.queueAdapter.healthCheck is not a function[39m
{
  "stack": "TypeError: this.queueAdapter.healthCheck is not a function\n    at EnhancedAnalysisSystem.initializeQueue (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:66:29)\n    at EnhancedAnalysisSystem.initialize (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:43:18)\n    at initializeAnalysisSystem (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:293:24)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:268:35)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:17.565 AM [[31merror[39m]: 	[31mFailed to initialize Enhanced Analysis System: Analysis system initialization failed: TypeError: this.queueAdapter.healthCheck is not a function[39m
{
  "stack": "Error: Analysis system initialization failed: TypeError: this.queueAdapter.healthCheck is not a function\n    at EnhancedAnalysisSystem.initialize (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:57:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at initializeAnalysisSystem (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:293:3)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:268:11)"
}
2025-05-31 09:55:26.298 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:27.544 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:36.288 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:37.546 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:46.304 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:47.547 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:56.294 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:55:57.547 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:06.291 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:07.549 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:16.295 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:17.549 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:26.297 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:27.549 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 09:56:29.841 AM [[32minfo[39m]: 	[32mReceived SIGINT, starting graceful shutdown[39m
2025-05-31 10:06:24.700 AM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 10:06:24.761 AM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 10:06:24.762 AM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 10:06:24.946 AM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 10:06:24.947 AM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 10:06:24.947 AM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 10:06:24.947 AM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 10:06:24.948 AM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:06:24.949 AM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 10:06:25.010 AM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 10:06:25.018 AM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 10:06:25.019 AM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 10:06:25.019 AM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 10:06:25.019 AM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 10:06:25.019 AM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 10:06:26.023 AM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 10:06:26.024 AM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 10:06:26.039 AM [[31merror[39m]: 	[31mFailed to initialize Enhanced Analysis System: this.queueAdapter.healthCheck is not a function[39m
{
  "stack": "TypeError: this.queueAdapter.healthCheck is not a function\n    at EnhancedAnalysisSystem.initializeQueue (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:66:29)\n    at EnhancedAnalysisSystem.initialize (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:43:18)\n    at initializeAnalysisSystem (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:293:24)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:268:35)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 10:06:26.040 AM [[31merror[39m]: 	[31mFailed to initialize Enhanced Analysis System: Analysis system initialization failed: TypeError: this.queueAdapter.healthCheck is not a function[39m
{
  "stack": "Error: Analysis system initialization failed: TypeError: this.queueAdapter.healthCheck is not a function\n    at EnhancedAnalysisSystem.initialize (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:57:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at initializeAnalysisSystem (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/enhanced-analysis-system.ts:293:3)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/index.ts:268:11)"
}
2025-05-31 10:06:34.769 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 10:06:36.029 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 10:06:44.769 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 10:06:46.029 AM [[31merror[39m]: 	[31mError getting queue metrics: this.queue.getPaused is not a function[39m
{
  "stack": "TypeError: this.queue.getPaused is not a function\n    at EnhancedQueueAdapter.getQueueMetrics (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:304:20)\n    at Timeout._onTimeout (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/seo-crawler/queue/EnhancedQueueAdapter.ts:154:36)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)"
}
2025-05-31 10:06:52.724 AM [[32minfo[39m]: 	[32mReceived SIGINT, starting graceful shutdown[39m
2025-05-31 10:41:44.439 AM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 10:41:44.518 AM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 10:41:44.669 AM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "1ms",
  "pgVersion": "15.13"
}
2025-05-31 10:41:44.681 AM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 10:41:44.681 AM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 10:41:44.829 AM [[31merror[39m]: 	[31mDatabase error detected [39m
[31m[31mInvalid [1m`this.prisma.user.create()`[22m invocation in[31m[39m
[31m[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37[24m[39m

[31m  [2m[90m591[31m [36mconst[31m validatedData = schemas[34m.[31muser[34m.[31mcreate[34m.[31m[36mparse[31m[34m([31mdata[34m)[31m[34m;[31m[22m[39m
[31m  [2m[90m592[31m [22m[39m
[31m  [2m[90m593[31m [36mreturn[31m [36mawait[31m databaseManager[34m.[31m[36mexecuteWithRetry[31m[34m([31m[36masync[31m [34m([31m[34m)[31m => [34m{[31m[22m[39m
[31m[1m[31m→[31m[22m [2m[90m594[31m   [36mreturn[31m [36mawait[31m [36mthis[31m[34m.[31mprisma[34m.[31muser[34m.[31m[36mcreate[31m[34m([31m[22m[39m
[31mThe column `twoFactorEnabled` does not exist in the current database.[39m
{
  "target": "user.create"
}
2025-05-31 10:41:44.830 AM [[33mwarn[39m]: 	[33mdatabase operation failed (attempt 1/3)[39m
{
  "error": "\n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.",
  "attempt": 1,
  "maxRetries": 3,
  "stack": "PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:14\n    at async DatabaseManager.executeWithRetry (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/config/database.ts:538:24)\n    at async DatabaseService.createUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:593:12)\n    at async createTestUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:100:10)\n    at async seedDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:23:22)"
}
2025-05-31 10:41:46.163 AM [[31merror[39m]: 	[31mDatabase error detected [39m
[31m[31mInvalid [1m`this.prisma.user.create()`[22m invocation in[31m[39m
[31m[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37[24m[39m

[31m  [2m[90m591[31m [36mconst[31m validatedData = schemas[34m.[31muser[34m.[31mcreate[34m.[31m[36mparse[31m[34m([31mdata[34m)[31m[34m;[31m[22m[39m
[31m  [2m[90m592[31m [22m[39m
[31m  [2m[90m593[31m [36mreturn[31m [36mawait[31m databaseManager[34m.[31m[36mexecuteWithRetry[31m[34m([31m[36masync[31m [34m([31m[34m)[31m => [34m{[31m[22m[39m
[31m[1m[31m→[31m[22m [2m[90m594[31m   [36mreturn[31m [36mawait[31m [36mthis[31m[34m.[31mprisma[34m.[31muser[34m.[31m[36mcreate[31m[34m([31m[22m[39m
[31mThe column `twoFactorEnabled` does not exist in the current database.[39m
{
  "target": "user.create"
}
2025-05-31 10:41:46.166 AM [[33mwarn[39m]: 	[33mdatabase operation failed (attempt 2/3)[39m
{
  "error": "\n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.",
  "attempt": 2,
  "maxRetries": 3,
  "stack": "PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:14\n    at async DatabaseManager.executeWithRetry (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/config/database.ts:538:24)\n    at async DatabaseService.createUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:593:12)\n    at async createTestUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:100:10)\n    at async seedDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:23:22)"
}
2025-05-31 10:41:48.602 AM [[31merror[39m]: 	[31mDatabase error detected [39m
[31m[31mInvalid [1m`this.prisma.user.create()`[22m invocation in[31m[39m
[31m[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37[24m[39m

[31m  [2m[90m591[31m [36mconst[31m validatedData = schemas[34m.[31muser[34m.[31mcreate[34m.[31m[36mparse[31m[34m([31mdata[34m)[31m[34m;[31m[22m[39m
[31m  [2m[90m592[31m [22m[39m
[31m  [2m[90m593[31m [36mreturn[31m [36mawait[31m databaseManager[34m.[31m[36mexecuteWithRetry[31m[34m([31m[36masync[31m [34m([31m[34m)[31m => [34m{[31m[22m[39m
[31m[1m[31m→[31m[22m [2m[90m594[31m   [36mreturn[31m [36mawait[31m [36mthis[31m[34m.[31mprisma[34m.[31muser[34m.[31m[36mcreate[31m[34m([31m[22m[39m
[31mThe column `twoFactorEnabled` does not exist in the current database.[39m
{
  "target": "user.create"
}
2025-05-31 10:41:48.603 AM [[33mwarn[39m]: 	[33mdatabase operation failed (attempt 3/3)[39m
{
  "error": "\n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.",
  "attempt": 3,
  "maxRetries": 3,
  "stack": "PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:14\n    at async DatabaseManager.executeWithRetry (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/config/database.ts:538:24)\n    at async DatabaseService.createUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:593:12)\n    at async createTestUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:100:10)\n    at async seedDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:23:22)"
}
2025-05-31 10:41:48.604 AM [[31merror[39m]: 	[31mDatabase seeding failed: [39m
[31m[31mInvalid [1m`this.prisma.user.create()`[22m invocation in[31m[39m
[31m[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37[24m[39m

[31m  [2m[90m591[31m [36mconst[31m validatedData = schemas[34m.[31muser[34m.[31mcreate[34m.[31m[36mparse[31m[34m([31mdata[34m)[31m[34m;[31m[22m[39m
[31m  [2m[90m592[31m [22m[39m
[31m  [2m[90m593[31m [36mreturn[31m [36mawait[31m databaseManager[34m.[31m[36mexecuteWithRetry[31m[34m([31m[36masync[31m [34m([31m[34m)[31m => [34m{[31m[22m[39m
[31m[1m[31m→[31m[22m [2m[90m594[31m   [36mreturn[31m [36mawait[31m [36mthis[31m[34m.[31mprisma[34m.[31muser[34m.[31m[36mcreate[31m[34m([31m[22m[39m
[31mThe column `twoFactorEnabled` does not exist in the current database.[39m
{
  "name": "PrismaClientKnownRequestError",
  "code": "P2022",
  "clientVersion": "5.22.0",
  "meta": {
    "modelName": "User",
    "column": "twoFactorEnabled"
  },
  "stack": "PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`this.prisma.user.create()`\u001b[22m invocation in\u001b[39m\n\u001b[4m/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:37\u001b[24m\n\n  \u001b[2m\u001b[90m591\u001b[39m \u001b[36mconst\u001b[39m validatedData = schemas\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39mcreate\u001b[34m.\u001b[39m\u001b[36mparse\u001b[39m\u001b[34m(\u001b[39mdata\u001b[34m)\u001b[39m\u001b[34m;\u001b[39m\u001b[22m\n  \u001b[2m\u001b[90m592\u001b[39m \u001b[22m\n  \u001b[2m\u001b[90m593\u001b[39m \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m databaseManager\u001b[34m.\u001b[39m\u001b[36mexecuteWithRetry\u001b[39m\u001b[34m(\u001b[39m\u001b[36masync\u001b[39m \u001b[34m(\u001b[39m\u001b[34m)\u001b[39m => \u001b[34m{\u001b[39m\u001b[22m\n\u001b[1m\u001b[31m→\u001b[39m\u001b[22m \u001b[2m\u001b[90m594\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[34m.\u001b[39mprisma\u001b[34m.\u001b[39muser\u001b[34m.\u001b[39m\u001b[36mcreate\u001b[39m\u001b[34m(\u001b[39m\u001b[22m\nThe column `twoFactorEnabled` does not exist in the current database.\n    at $n.handleRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async /Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:594:14\n    at async DatabaseManager.executeWithRetry (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/config/database.ts:538:24)\n    at async DatabaseService.createUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/src/services/DatabaseService.ts:593:12)\n    at async createTestUser (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:100:10)\n    at async seedDatabase (/Users/nicholasmangubat/CascadeProjects/rival-outranker/backend/scripts/seed-enhanced.ts:23:22)"
}
2025-05-31 10:41:48.613 AM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-31 08:29:24.034 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 08:29:24.088 PM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 08:29:24.088 PM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 08:29:24.288 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 08:29:24.289 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 08:29:24.290 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 08:29:24.291 PM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 08:29:24.291 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 08:29:24.293 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 08:29:24.400 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 08:29:24.412 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 08:29:24.412 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 08:29:24.421 PM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 08:29:24.421 PM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 08:29:24.430 PM [[32minfo[39m]: 	[32mQueue adapter initialized and healthy[39m
2025-05-31 08:29:24.430 PM [[32minfo[39m]: 	[32mInitializing WebSocket gateway...[39m
2025-05-31 08:29:24.531 PM [[32minfo[39m]: 	[32mWebSocket Gateway initialized[39m
2025-05-31 08:29:24.532 PM [[32minfo[39m]: 	[32mWebSocket gateway initialized[39m
2025-05-31 08:29:24.532 PM [[32minfo[39m]: 	[32mInitializing enhanced worker...[39m
2025-05-31 08:29:24.533 PM [[32minfo[39m]: 	[32mWorker event handlers configured[39m
2025-05-31 08:29:24.533 PM [[32minfo[39m]: 	[32mWorker initialized with concurrency: 5[39m
2025-05-31 08:29:24.533 PM [[32minfo[39m]: 	[32mSetting up queue cleanup every 3600000ms[39m
2025-05-31 08:29:24.534 PM [[32minfo[39m]: 	[32mValidating system health...[39m
2025-05-31 08:29:24.546 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 08:29:24.559 PM [[32minfo[39m]: 	[32mDatabase connectivity verified[39m
2025-05-31 08:29:24.559 PM [[32minfo[39m]: 	[32mWebSocket gateway health verified[39m
2025-05-31 08:29:24.559 PM [[32minfo[39m]: 	[32mSystem health validation completed successfully[39m
2025-05-31 08:29:24.560 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 08:29:24.560 PM [[32minfo[39m]: 	[32mSystem Status:[39m
{
  "initialized": true,
  "queueMetrics": {
    "waiting": 0,
    "active": 0,
    "completed": 0,
    "failed": 0,
    "delayed": 0,
    "paused": 0,
    "totalProcessingTime": 0,
    "averageProcessingTime": 300000
  },
  "workerConcurrency": 5,
  "webSocketEnabled": true,
  "cleanupInterval": 3600000
}
2025-05-31 08:29:24.560 PM [[32minfo[39m]: 	[32mAnalysis system initialized successfully[39m
2025-05-31 08:29:24.561 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 08:29:24.561 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 08:29:24.561 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 08:29:25.563 PM [[33mwarn[39m]: 	[33mAnalysis system already initialized[39m
2025-05-31 08:29:25.564 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 08:36:20.066 PM [[32minfo[39m]: 	[32mReceived SIGTERM, starting graceful shutdown[39m
2025-05-31 08:36:20.074 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 08:36:20.075 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 08:36:20.078 PM [[32minfo[39m]: 	[32mShutting down enhanced worker...[39m
2025-05-31 08:36:20.098 PM [[32minfo[39m]: 	[32mEnhanced worker shutdown complete[39m
2025-05-31 08:36:20.099 PM [[32minfo[39m]: 	[32mShutting down WebSocket Gateway...[39m
2025-05-31 08:36:20.109 PM [[32minfo[39m]: 	[32mBroadcasted system update: System Maintenance[39m
2025-05-31 08:36:21.114 PM [[32minfo[39m]: 	[32mWebSocket Gateway shutdown completed[39m
2025-05-31 08:36:21.116 PM [[32minfo[39m]: 	[32mClosing Enhanced Queue Adapter...[39m
2025-05-31 08:36:21.127 PM [[32minfo[39m]: 	[32mEnhanced Queue Adapter closed[39m
2025-05-31 08:36:21.151 PM [[32minfo[39m]: 	[32mEnhanced Analysis System shutdown completed[39m
2025-05-31 08:36:23.071 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 08:36:23.089 PM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 08:36:23.090 PM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 08:36:23.190 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 08:36:23.192 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 08:36:23.192 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 08:36:23.193 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 08:36:23.193 PM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 08:36:23.194 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 08:36:23.262 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 08:36:23.271 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 08:36:23.272 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 08:36:23.273 PM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 08:36:23.273 PM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 08:36:23.279 PM [[32minfo[39m]: 	[32mQueue adapter initialized and healthy[39m
2025-05-31 08:36:23.279 PM [[32minfo[39m]: 	[32mInitializing WebSocket gateway...[39m
2025-05-31 08:36:23.381 PM [[32minfo[39m]: 	[32mWebSocket Gateway initialized[39m
2025-05-31 08:36:23.381 PM [[32minfo[39m]: 	[32mWebSocket gateway initialized[39m
2025-05-31 08:36:23.381 PM [[32minfo[39m]: 	[32mInitializing enhanced worker...[39m
2025-05-31 08:36:23.382 PM [[32minfo[39m]: 	[32mWorker event handlers configured[39m
2025-05-31 08:36:23.382 PM [[32minfo[39m]: 	[32mWorker initialized with concurrency: 5[39m
2025-05-31 08:36:23.382 PM [[32minfo[39m]: 	[32mSetting up queue cleanup every 3600000ms[39m
2025-05-31 08:36:23.382 PM [[32minfo[39m]: 	[32mValidating system health...[39m
2025-05-31 08:36:23.393 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 08:36:23.408 PM [[32minfo[39m]: 	[32mDatabase connectivity verified[39m
2025-05-31 08:36:23.408 PM [[32minfo[39m]: 	[32mWebSocket gateway health verified[39m
2025-05-31 08:36:23.408 PM [[32minfo[39m]: 	[32mSystem health validation completed successfully[39m
2025-05-31 08:36:23.408 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 08:36:23.409 PM [[32minfo[39m]: 	[32mSystem Status:[39m
{
  "initialized": true,
  "queueMetrics": {
    "waiting": 0,
    "active": 0,
    "completed": 0,
    "failed": 0,
    "delayed": 0,
    "paused": 0,
    "totalProcessingTime": 0,
    "averageProcessingTime": 300000
  },
  "workerConcurrency": 5,
  "webSocketEnabled": true,
  "cleanupInterval": 3600000
}
2025-05-31 08:36:23.409 PM [[32minfo[39m]: 	[32mAnalysis system initialized successfully[39m
2025-05-31 08:36:23.410 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 08:36:23.410 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 08:36:23.410 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 08:36:24.412 PM [[33mwarn[39m]: 	[33mAnalysis system already initialized[39m
2025-05-31 08:36:24.417 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 08:36:59.243 PM [[32minfo[39m]: 	[32mReceived SIGTERM, starting graceful shutdown[39m
2025-05-31 08:36:59.244 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 08:36:59.244 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 08:36:59.245 PM [[32minfo[39m]: 	[32mShutting down enhanced worker...[39m
2025-05-31 08:36:59.252 PM [[32minfo[39m]: 	[32mEnhanced worker shutdown complete[39m
2025-05-31 08:36:59.255 PM [[32minfo[39m]: 	[32mShutting down WebSocket Gateway...[39m
2025-05-31 08:36:59.258 PM [[32minfo[39m]: 	[32mBroadcasted system update: System Maintenance[39m
2025-05-31 08:37:00.259 PM [[32minfo[39m]: 	[32mWebSocket Gateway shutdown completed[39m
2025-05-31 08:37:00.260 PM [[32minfo[39m]: 	[32mClosing Enhanced Queue Adapter...[39m
2025-05-31 08:37:00.263 PM [[32minfo[39m]: 	[32mEnhanced Queue Adapter closed[39m
2025-05-31 08:37:00.272 PM [[32minfo[39m]: 	[32mEnhanced Analysis System shutdown completed[39m
2025-05-31 08:37:01.702 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 08:37:01.719 PM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 08:37:01.720 PM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 08:37:01.802 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 08:37:01.802 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 08:37:01.803 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 08:37:01.803 PM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 08:37:01.804 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 08:37:01.807 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 08:37:01.844 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 08:37:01.851 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 08:37:01.851 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 08:37:01.852 PM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 08:37:01.852 PM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 08:37:01.857 PM [[32minfo[39m]: 	[32mQueue adapter initialized and healthy[39m
2025-05-31 08:37:01.857 PM [[32minfo[39m]: 	[32mInitializing WebSocket gateway...[39m
2025-05-31 08:37:01.959 PM [[32minfo[39m]: 	[32mWebSocket Gateway initialized[39m
2025-05-31 08:37:01.959 PM [[32minfo[39m]: 	[32mWebSocket gateway initialized[39m
2025-05-31 08:37:01.959 PM [[32minfo[39m]: 	[32mInitializing enhanced worker...[39m
2025-05-31 08:37:01.960 PM [[32minfo[39m]: 	[32mWorker event handlers configured[39m
2025-05-31 08:37:01.960 PM [[32minfo[39m]: 	[32mWorker initialized with concurrency: 5[39m
2025-05-31 08:37:01.961 PM [[32minfo[39m]: 	[32mSetting up queue cleanup every 3600000ms[39m
2025-05-31 08:37:01.961 PM [[32minfo[39m]: 	[32mValidating system health...[39m
2025-05-31 08:37:01.977 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 08:37:01.985 PM [[32minfo[39m]: 	[32mDatabase connectivity verified[39m
2025-05-31 08:37:01.985 PM [[32minfo[39m]: 	[32mWebSocket gateway health verified[39m
2025-05-31 08:37:01.985 PM [[32minfo[39m]: 	[32mSystem health validation completed successfully[39m
2025-05-31 08:37:01.985 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 08:37:01.986 PM [[32minfo[39m]: 	[32mSystem Status:[39m
{
  "initialized": true,
  "queueMetrics": {
    "waiting": 0,
    "active": 0,
    "completed": 0,
    "failed": 0,
    "delayed": 0,
    "paused": 0,
    "totalProcessingTime": 0,
    "averageProcessingTime": 300000
  },
  "workerConcurrency": 5,
  "webSocketEnabled": true,
  "cleanupInterval": 3600000
}
2025-05-31 08:37:01.986 PM [[32minfo[39m]: 	[32mAnalysis system initialized successfully[39m
2025-05-31 08:37:01.987 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 08:37:01.987 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 08:37:01.987 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 08:37:02.989 PM [[33mwarn[39m]: 	[33mAnalysis system already initialized[39m
2025-05-31 08:37:02.991 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 08:45:43.712 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 08:45:43.738 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 08:45:43.838 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 08:45:43.853 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 08:45:43.853 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 08:45:43.860 PM [[32minfo[39m]: 	[32m✅ Database disconnected successfully[39m
2025-05-31 09:05:40.100 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:05:40.122 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:24:36.310 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:24:36.311 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:24:57.367 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:24:57.381 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:33:09.427 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:33:09.429 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:33:31.530 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:33:31.531 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:39:08.141 PM [[32minfo[39m]: 	[32mCleaned 0 completed jobs[39m
2025-05-31 09:39:08.142 PM [[32minfo[39m]: 	[32mCleaned 0 failed jobs[39m
2025-05-31 09:39:08.143 PM [[32minfo[39m]: 	[32mCleaned queue of jobs older than 86400000ms[39m
2025-05-31 09:39:08.143 PM [[32minfo[39m]: 	[32mQueue cleanup completed[39m
2025-05-31 09:54:51.716 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:54:51.721 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:57:20.271 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:57:20.273 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:57:45.995 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:57:45.996 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:57:58.114 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:57:58.116 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:58:10.152 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:58:10.155 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:58:29.203 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:58:29.221 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:58:49.410 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:58:49.411 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:59:29.085 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:59:29.089 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:59:53.974 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 09:59:53.975 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:01:47.989 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:01:47.991 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:04:00.809 PM [[32minfo[39m]: 	[32mReceived SIGTERM, starting graceful shutdown[39m
2025-05-31 10:04:00.822 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 10:04:00.823 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 10:04:00.830 PM [[32minfo[39m]: 	[32mShutting down enhanced worker...[39m
2025-05-31 10:04:00.872 PM [[32minfo[39m]: 	[32mEnhanced worker shutdown complete[39m
2025-05-31 10:04:00.874 PM [[32minfo[39m]: 	[32mShutting down WebSocket Gateway...[39m
2025-05-31 10:04:00.897 PM [[32minfo[39m]: 	[32mBroadcasted system update: System Maintenance[39m
2025-05-31 10:04:01.899 PM [[32minfo[39m]: 	[32mWebSocket Gateway shutdown completed[39m
2025-05-31 10:04:01.900 PM [[32minfo[39m]: 	[32mClosing Enhanced Queue Adapter...[39m
2025-05-31 10:04:01.905 PM [[32minfo[39m]: 	[32mEnhanced Queue Adapter closed[39m
2025-05-31 10:04:01.921 PM [[32minfo[39m]: 	[32mEnhanced Analysis System shutdown completed[39m
2025-05-31 10:04:03.652 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 10:04:03.676 PM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 10:04:03.677 PM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 10:04:03.760 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 10:04:03.762 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 10:04:03.763 PM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 10:04:03.764 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 10:04:03.765 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 10:04:03.766 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:04:03.810 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 10:04:03.824 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 10:04:03.824 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 10:04:03.826 PM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 10:04:03.826 PM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 10:04:03.836 PM [[32minfo[39m]: 	[32mQueue adapter initialized and healthy[39m
2025-05-31 10:04:03.836 PM [[32minfo[39m]: 	[32mInitializing WebSocket gateway...[39m
2025-05-31 10:04:03.938 PM [[32minfo[39m]: 	[32mWebSocket Gateway initialized[39m
2025-05-31 10:04:03.938 PM [[32minfo[39m]: 	[32mWebSocket gateway initialized[39m
2025-05-31 10:04:03.939 PM [[32minfo[39m]: 	[32mInitializing enhanced worker...[39m
2025-05-31 10:04:03.940 PM [[32minfo[39m]: 	[32mWorker event handlers configured[39m
2025-05-31 10:04:03.940 PM [[32minfo[39m]: 	[32mWorker initialized with concurrency: 5[39m
2025-05-31 10:04:03.940 PM [[32minfo[39m]: 	[32mSetting up queue cleanup every 3600000ms[39m
2025-05-31 10:04:03.940 PM [[32minfo[39m]: 	[32mValidating system health...[39m
2025-05-31 10:04:03.948 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:04:03.958 PM [[32minfo[39m]: 	[32mDatabase connectivity verified[39m
2025-05-31 10:04:03.958 PM [[32minfo[39m]: 	[32mWebSocket gateway health verified[39m
2025-05-31 10:04:03.958 PM [[32minfo[39m]: 	[32mSystem health validation completed successfully[39m
2025-05-31 10:04:03.958 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 10:04:03.959 PM [[32minfo[39m]: 	[32mSystem Status:[39m
{
  "initialized": true,
  "queueMetrics": {
    "waiting": 0,
    "active": 0,
    "completed": 0,
    "failed": 0,
    "delayed": 0,
    "paused": 0,
    "totalProcessingTime": 0,
    "averageProcessingTime": 300000
  },
  "workerConcurrency": 5,
  "webSocketEnabled": true,
  "cleanupInterval": 3600000
}
2025-05-31 10:04:03.959 PM [[32minfo[39m]: 	[32mAnalysis system initialized successfully[39m
2025-05-31 10:04:03.960 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 10:04:03.960 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 10:04:03.960 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 10:04:04.962 PM [[33mwarn[39m]: 	[33mAnalysis system already initialized[39m
2025-05-31 10:04:04.963 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 10:04:06.770 PM [[32minfo[39m]: 	[32mReceived SIGTERM, starting graceful shutdown[39m
2025-05-31 10:04:06.770 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 10:04:06.770 PM [[32minfo[39m]: 	[32mShutting down Enhanced Analysis System...[39m
2025-05-31 10:04:06.771 PM [[32minfo[39m]: 	[32mShutting down enhanced worker...[39m
2025-05-31 10:04:06.776 PM [[32minfo[39m]: 	[32mEnhanced worker shutdown complete[39m
2025-05-31 10:04:06.776 PM [[32minfo[39m]: 	[32mShutting down WebSocket Gateway...[39m
2025-05-31 10:04:06.777 PM [[32minfo[39m]: 	[32mBroadcasted system update: System Maintenance[39m
2025-05-31 10:04:07.778 PM [[32minfo[39m]: 	[32mWebSocket Gateway shutdown completed[39m
2025-05-31 10:04:07.778 PM [[32minfo[39m]: 	[32mClosing Enhanced Queue Adapter...[39m
2025-05-31 10:04:07.780 PM [[32minfo[39m]: 	[32mEnhanced Queue Adapter closed[39m
2025-05-31 10:04:07.785 PM [[32minfo[39m]: 	[32mEnhanced Analysis System shutdown completed[39m
2025-05-31 10:04:09.286 PM [[32minfo[39m]: 	[32mLoaded existing RSA keys for JWT signing[39m
2025-05-31 10:04:09.298 PM [[32minfo[39m]: 	[32mStarting enhanced worker...[39m
2025-05-31 10:04:09.298 PM [[32minfo[39m]: 	[32mEnhanced worker started successfully[39m
2025-05-31 10:04:09.657 PM [[32minfo[39m]: 	[32mConnected to Redis[39m
2025-05-31 10:04:09.658 PM [[32minfo[39m]: 	[32mAttempting database connection (attempt 1/5)[39m
{
  "connectionString": "postgresql://postgres:****@localhost:5432/rival_outranker",
  "poolSize": 25,
  "timeout": 30000
}
2025-05-31 10:04:09.658 PM [[32minfo[39m]: 	[32mRedis clients initialized for WebSocket gateway[39m
2025-05-31 10:04:09.659 PM [[32minfo[39m]: 	[32mConnected to Redis for JWT service[39m
2025-05-31 10:04:09.659 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:04:09.660 PM [[32minfo[39m]: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m
{
  "target": "quaint::pooled"
}
2025-05-31 10:04:09.689 PM [[32minfo[39m]: 	[32m✅ Database connected successfully[39m
{
  "attempt": 1,
  "connectionPoolSize": 25,
  "database": "rival_outranker",
  "responseTime": "0ms",
  "pgVersion": "15.13"
}
2025-05-31 10:04:09.695 PM [[32minfo[39m]: 	[32mpg_stat_statements extension enabled for query monitoring[39m
2025-05-31 10:04:09.695 PM [[32minfo[39m]: 	[32mDatabase optimized for SEO analysis workloads[39m
{
  "optimizations": 13,
  "workMem": "256MB",
  "effectiveCacheSize": "2GB"
}
2025-05-31 10:04:09.697 PM [[32minfo[39m]: 	[32mInitializing Enhanced Analysis System...[39m
2025-05-31 10:04:09.697 PM [[32minfo[39m]: 	[32mInitializing enhanced queue adapter...[39m
2025-05-31 10:04:09.701 PM [[32minfo[39m]: 	[32mQueue adapter initialized and healthy[39m
2025-05-31 10:04:09.701 PM [[32minfo[39m]: 	[32mInitializing WebSocket gateway...[39m
2025-05-31 10:04:09.803 PM [[32minfo[39m]: 	[32mWebSocket Gateway initialized[39m
2025-05-31 10:04:09.803 PM [[32minfo[39m]: 	[32mWebSocket gateway initialized[39m
2025-05-31 10:04:09.803 PM [[32minfo[39m]: 	[32mInitializing enhanced worker...[39m
2025-05-31 10:04:09.805 PM [[32minfo[39m]: 	[32mWorker event handlers configured[39m
2025-05-31 10:04:09.805 PM [[32minfo[39m]: 	[32mWorker initialized with concurrency: 5[39m
2025-05-31 10:04:09.805 PM [[32minfo[39m]: 	[32mSetting up queue cleanup every 3600000ms[39m
2025-05-31 10:04:09.805 PM [[32minfo[39m]: 	[32mValidating system health...[39m
2025-05-31 10:04:09.817 PM [[32minfo[39m]: 	[32mEnhanced worker is ready to process analysis jobs[39m
2025-05-31 10:04:09.839 PM [[32minfo[39m]: 	[32mDatabase connectivity verified[39m
2025-05-31 10:04:09.839 PM [[32minfo[39m]: 	[32mWebSocket gateway health verified[39m
2025-05-31 10:04:09.839 PM [[32minfo[39m]: 	[32mSystem health validation completed successfully[39m
2025-05-31 10:04:09.839 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m
2025-05-31 10:04:09.841 PM [[32minfo[39m]: 	[32mSystem Status:[39m
{
  "initialized": true,
  "queueMetrics": {
    "waiting": 0,
    "active": 0,
    "completed": 0,
    "failed": 0,
    "delayed": 0,
    "paused": 0,
    "totalProcessingTime": 0,
    "averageProcessingTime": 300000
  },
  "workerConcurrency": 5,
  "webSocketEnabled": true,
  "cleanupInterval": 3600000
}
2025-05-31 10:04:09.841 PM [[32minfo[39m]: 	[32mAnalysis system initialized successfully[39m
2025-05-31 10:04:09.842 PM [[32minfo[39m]: 	[32mServer is running on port 4000[39m
2025-05-31 10:04:09.842 PM [[32minfo[39m]: 	[32mEnvironment: development[39m
2025-05-31 10:04:09.842 PM [[32minfo[39m]: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m
2025-05-31 10:04:10.844 PM [[33mwarn[39m]: 	[33mAnalysis system already initialized[39m
2025-05-31 10:04:10.845 PM [[32minfo[39m]: 	[32mEnhanced Analysis System initialized successfully[39m

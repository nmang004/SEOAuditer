
> seo-director-backend@1.0.0 dev
> ts-node-dev --respawn --transpile-only src/index.ts

[INFO] 23:25:41 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.8.3)
--- Backend process starting ---
--- http imported ---
--- express imported ---
--- socket.io imported ---
--- cors imported ---
--- helmet imported ---
--- morgan imported ---
--- redis imported ---
--- Loading config.ts ---
--- Validating environment variables ---
--- Environment variables validated successfully ---
--- logger imported ---
--- errorHandler imported ---
[32m[32minfo[32m[39m: 	[32mLoaded existing RSA keys for JWT signing[39m {"timestamp":"2025-06-02 11:25:42.556 PM"}
[32m[32minfo[32m[39m: 	[32mStarting enhanced worker...[39m {"timestamp":"2025-06-02 11:25:43.609 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker started successfully[39m {"timestamp":"2025-06-02 11:25:43.609 PM"}
--- Config loaded successfully ---
--- Express app and server initialized ---
--- Initializing Redis client ---
--- Redis client initialized ---
--- Initializing Database Manager ---
--- OpenAPI spec loaded successfully ---
--- startServer: BEGIN ---
--- Attempting Redis connection ---
--- After startServer() call ---
--- Redis connected successfully ---
[32m[32minfo[32m[39m: 	[32mConnected to Redis[39m {"timestamp":"2025-06-02 11:25:43.768 PM"}
--- Attempting database connection via Database Manager ---
[32m[32minfo[32m[39m: 	[32mAttempting database connection (attempt 1/5)[39m {"connectionString":"postgresql://nicholasmangubat@localhost:5432/rival_outranker","poolSize":25,"timeout":30000,"timestamp":"2025-06-02 11:25:43.768 PM"}
[32m[32minfo[32m[39m: 	[32mRedis clients initialized for WebSocket gateway[39m {"timestamp":"2025-06-02 11:25:43.768 PM"}
Redis client connected successfully in rate-limit middleware
[32m[32minfo[32m[39m: 	[32mConnected to Redis for JWT service[39m {"timestamp":"2025-06-02 11:25:43.768 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m {"target":"quaint::pooled","timestamp":"2025-06-02 11:25:43.770 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:25:43.779 PM"}
[32m[32minfo[32m[39m: 	[32mâœ… Database connected successfully[39m {"attempt":1,"connectionPoolSize":25,"database":"rival_outranker","pgVersion":"15.13","responseTime":"0ms","timestamp":"2025-06-02 11:25:43.835 PM"}
[32m[32minfo[32m[39m: 	[32mpg_stat_statements extension enabled for query monitoring[39m {"timestamp":"2025-06-02 11:25:43.841 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase optimized for SEO analysis workloads[39m {"effectiveCacheSize":"2GB","optimizations":13,"timestamp":"2025-06-02 11:25:43.841 PM","workMem":"256MB"}
--- Database Manager connected successfully ---
[32m[32minfo[32m[39m: 	[32mInitializing Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:25:43.848 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced queue adapter...[39m {"timestamp":"2025-06-02 11:25:43.848 PM"}
[32m[32minfo[32m[39m: 	[32mQueue adapter initialized and healthy[39m {"timestamp":"2025-06-02 11:25:43.855 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing WebSocket gateway...[39m {"timestamp":"2025-06-02 11:25:43.855 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway initialized[39m {"timestamp":"2025-06-02 11:25:43.957 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway initialized[39m {"timestamp":"2025-06-02 11:25:43.957 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced worker...[39m {"timestamp":"2025-06-02 11:25:43.957 PM"}
[32m[32minfo[32m[39m: 	[32mWorker event handlers configured[39m {"timestamp":"2025-06-02 11:25:43.958 PM"}
[32m[32minfo[32m[39m: 	[32mWorker initialized with concurrency: 5[39m {"timestamp":"2025-06-02 11:25:43.958 PM"}
[32m[32minfo[32m[39m: 	[32mSetting up queue cleanup every 3600000ms[39m {"timestamp":"2025-06-02 11:25:43.958 PM"}
[32m[32minfo[32m[39m: 	[32mValidating system health...[39m {"timestamp":"2025-06-02 11:25:43.958 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:25:43.965 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase connectivity verified[39m {"timestamp":"2025-06-02 11:25:43.966 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway health verified[39m {"timestamp":"2025-06-02 11:25:43.966 PM"}
[32m[32minfo[32m[39m: 	[32mSystem health validation completed successfully[39m {"timestamp":"2025-06-02 11:25:43.966 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System initialized successfully[39m {"timestamp":"2025-06-02 11:25:43.966 PM"}
[32m[32minfo[32m[39m: 	[32mSystem Status:[39m {"cleanupInterval":3600000,"initialized":true,"queueMetrics":{"active":0,"averageProcessingTime":300000,"completed":0,"delayed":0,"failed":0,"paused":0,"totalProcessingTime":0,"waiting":0},"timestamp":"2025-06-02 11:25:43.966 PM","webSocketEnabled":true,"workerConcurrency":5}
[32m[32minfo[32m[39m: 	[32mAnalysis system initialized successfully[39m {"timestamp":"2025-06-02 11:25:43.966 PM"}
[32m[32minfo[32m[39m: 	[32mServer is running on port 4000[39m {"timestamp":"2025-06-02 11:25:43.967 PM"}
[32m[32minfo[32m[39m: 	[32mEnvironment: development[39m {"timestamp":"2025-06-02 11:25:43.967 PM"}
[32m[32minfo[32m[39m: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m {"timestamp":"2025-06-02 11:25:43.967 PM"}
âœ… Server started successfully on port 4000
[31m[31merror[31m[39m: 	[31m500 - Internal Server Error - /api/auth/register - POST - ::1[39m {"body":{},"error":"SyntaxError: Bad escaped character in JSON at position 53 (line 1 column 54)\n    at JSON.parse (<anonymous>)\n    at parse (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","params":{},"query":{},"timestamp":"2025-06-02 11:26:49.998 PM"}
[0mPOST /api/auth/register [33m400[0m 6.969 ms - 395[0m
[31m[31merror[31m[39m: 	[31m500 - Internal Server Error - /api/auth/register - POST - ::1[39m {"body":{},"error":"SyntaxError: Bad escaped character in JSON at position 53 (line 1 column 54)\n    at JSON.parse (<anonymous>)\n    at parse (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","params":{},"query":{},"timestamp":"2025-06-02 11:27:11.730 PM"}
[31m[31merror[31m[39m: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m {"code":"EDNS","command":"CONN","errno":-3008,"hostname":"smtp.example.com","stack":"Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)","syscall":"getaddrinfo","timestamp":"2025-06-02 11:27:29.545 PM"}
[31m[31merror[31m[39m: 	[31mFailed to initialize email service: Failed to initialize email service[39m {"stack":"Error: Failed to initialize email service\n    at /Users/nicholasmangubat/CascadeProjects/seodirector/backend/src/services/email.service.ts:116:18\n    at SMTPConnection.<anonymous> (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/nodemailer/lib/smtp-transport/index.js:347:24)\n    at Object.onceWrapper (node:events:633:26)\n    at SMTPConnection.emit (node:events:518:28)\n    at SMTPConnection._onError (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/nodemailer/lib/smtp-connection/index.js:799:14)\n    at Immediate.<anonymous> (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/nodemailer/lib/smtp-connection/index.js:344:52)\n    at processImmediate (node:internal/timers:485:21)","timestamp":"2025-06-02 11:27:29.552 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail service will be disabled[39m {"timestamp":"2025-06-02 11:27:29.553 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail service is not available, skipping email send[39m {"timestamp":"2025-06-02 11:27:29.553 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail verification could not be sent[39m {"email":"test1748921249217@example.com","timestamp":"2025-06-02 11:27:29.553 PM","userId":"0be4fa68-6167-4710-9f90-291015b40dab"}
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test1748921249217@example.com","event":"user_registered","ipAddress":"::1","timestamp":"2025-06-02 11:27:29.567 PM","userAgent":"axios/1.9.0","userId":"0be4fa68-6167-4710-9f90-291015b40dab"}
[32m[32minfo[32m[39m: 	[32mUser registered successfully[39m {"email":"test1748921249217@example.com","ipAddress":"::1","timestamp":"2025-06-02 11:27:29.567 PM","userId":"0be4fa68-6167-4710-9f90-291015b40dab"}
[0mPOST /api/auth/register [32m201[0m 338.268 ms - 337[0m
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test@example.com","event":"login_failed","ipAddress":"::1","reason":"user_not_found","timestamp":"2025-06-02 11:27:29.579 PM","userAgent":"axios/1.9.0","userId":null}
[0mPOST /api/auth/login [33m401[0m 8.735 ms - 166[0m
[0mGET /api/health [32m200[0m 0.930 ms - 105[0m
[33m[33mwarn[33m[39m: 	[33mEmail service is not available, skipping email send[39m {"timestamp":"2025-06-02 11:32:01.036 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail verification could not be sent[39m {"email":"test1748921520790@example.com","timestamp":"2025-06-02 11:32:01.037 PM","userId":"5e3ec2d7-bb44-4495-892c-94411a3c065e"}
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test1748921520790@example.com","event":"user_registered","ipAddress":"::1","timestamp":"2025-06-02 11:32:01.043 PM","userAgent":"axios/1.9.0","userId":"5e3ec2d7-bb44-4495-892c-94411a3c065e"}
[32m[32minfo[32m[39m: 	[32mUser registered successfully[39m {"email":"test1748921520790@example.com","ipAddress":"::1","timestamp":"2025-06-02 11:32:01.043 PM","userId":"5e3ec2d7-bb44-4495-892c-94411a3c065e"}
[0mPOST /api/auth/register [32m201[0m 251.820 ms - 337[0m
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"nonexistent@example.com","event":"login_failed","ipAddress":"::1","reason":"user_not_found","timestamp":"2025-06-02 11:32:01.047 PM","userAgent":"axios/1.9.0","userId":null}
[0mPOST /api/auth/login [33m401[0m 2.814 ms - 166[0m
[0mPOST /api/auth/register [33m400[0m 0.618 ms - 1332[0m
[31m[31merror[31m[39m: 	[31m500 - Internal Server Error - /api/auth/register - POST - ::1[39m {"body":{},"error":"SyntaxError: Bad escaped character in JSON at position 59 (line 1 column 60)\n    at JSON.parse (<anonymous>)\n    at parse (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:238:16)\n    at done (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","params":{},"query":{},"timestamp":"2025-06-02 11:32:14.688 PM"}

> seo-director-backend@1.0.0 dev
> ts-node-dev --respawn --transpile-only src/index.ts

[INFO] 23:34:23 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.8.3)
--- Backend process starting ---
--- http imported ---
--- express imported ---
--- socket.io imported ---
--- cors imported ---
--- helmet imported ---
--- morgan imported ---
--- redis imported ---
--- Loading config.ts ---
--- Validating environment variables ---
--- Environment variables validated successfully ---
--- logger imported ---
--- errorHandler imported ---
[32m[32minfo[32m[39m: 	[32mLoaded existing RSA keys for JWT signing[39m {"timestamp":"2025-06-02 11:34:23.932 PM"}
[32m[32minfo[32m[39m: 	[32mStarting enhanced worker...[39m {"timestamp":"2025-06-02 11:34:24.898 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker started successfully[39m {"timestamp":"2025-06-02 11:34:24.898 PM"}
--- Config loaded successfully ---
--- Express app and server initialized ---
--- Initializing Redis client ---
--- Redis client initialized ---
--- Initializing Database Manager ---
--- OpenAPI spec loaded successfully ---
--- startServer: BEGIN ---
--- Attempting Redis connection ---
--- After startServer() call ---
--- Redis connected successfully ---
[32m[32minfo[32m[39m: 	[32mConnected to Redis[39m {"timestamp":"2025-06-02 11:34:25.059 PM"}
--- Attempting database connection via Database Manager ---
[32m[32minfo[32m[39m: 	[32mAttempting database connection (attempt 1/5)[39m {"connectionString":"postgresql://nicholasmangubat@localhost:5432/rival_outranker","poolSize":25,"timeout":30000,"timestamp":"2025-06-02 11:34:25.059 PM"}
[32m[32minfo[32m[39m: 	[32mRedis clients initialized for WebSocket gateway[39m {"timestamp":"2025-06-02 11:34:25.060 PM"}
Redis client connected successfully in rate-limit middleware
[32m[32minfo[32m[39m: 	[32mConnected to Redis for JWT service[39m {"timestamp":"2025-06-02 11:34:25.060 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m {"target":"quaint::pooled","timestamp":"2025-06-02 11:34:25.062 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:34:25.072 PM"}
[32m[32minfo[32m[39m: 	[32mâœ… Database connected successfully[39m {"attempt":1,"connectionPoolSize":25,"database":"rival_outranker","pgVersion":"15.13","responseTime":"0ms","timestamp":"2025-06-02 11:34:25.121 PM"}
[32m[32minfo[32m[39m: 	[32mpg_stat_statements extension enabled for query monitoring[39m {"timestamp":"2025-06-02 11:34:25.125 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase optimized for SEO analysis workloads[39m {"effectiveCacheSize":"2GB","optimizations":13,"timestamp":"2025-06-02 11:34:25.125 PM","workMem":"256MB"}
--- Database Manager connected successfully ---
[32m[32minfo[32m[39m: 	[32mInitializing Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:34:25.131 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced queue adapter...[39m {"timestamp":"2025-06-02 11:34:25.131 PM"}
[32m[32minfo[32m[39m: 	[32mQueue adapter initialized and healthy[39m {"timestamp":"2025-06-02 11:34:25.135 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing WebSocket gateway...[39m {"timestamp":"2025-06-02 11:34:25.135 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway initialized[39m {"timestamp":"2025-06-02 11:34:25.236 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway initialized[39m {"timestamp":"2025-06-02 11:34:25.236 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced worker...[39m {"timestamp":"2025-06-02 11:34:25.236 PM"}
[32m[32minfo[32m[39m: 	[32mWorker event handlers configured[39m {"timestamp":"2025-06-02 11:34:25.237 PM"}
[32m[32minfo[32m[39m: 	[32mWorker initialized with concurrency: 5[39m {"timestamp":"2025-06-02 11:34:25.237 PM"}
[32m[32minfo[32m[39m: 	[32mSetting up queue cleanup every 3600000ms[39m {"timestamp":"2025-06-02 11:34:25.237 PM"}
[32m[32minfo[32m[39m: 	[32mValidating system health...[39m {"timestamp":"2025-06-02 11:34:25.237 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:34:25.247 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase connectivity verified[39m {"timestamp":"2025-06-02 11:34:25.253 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway health verified[39m {"timestamp":"2025-06-02 11:34:25.253 PM"}
[32m[32minfo[32m[39m: 	[32mSystem health validation completed successfully[39m {"timestamp":"2025-06-02 11:34:25.253 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System initialized successfully[39m {"timestamp":"2025-06-02 11:34:25.253 PM"}
[32m[32minfo[32m[39m: 	[32mSystem Status:[39m {"cleanupInterval":3600000,"initialized":true,"queueMetrics":{"active":0,"averageProcessingTime":300000,"completed":0,"delayed":0,"failed":0,"paused":0,"totalProcessingTime":0,"waiting":0},"timestamp":"2025-06-02 11:34:25.254 PM","webSocketEnabled":true,"workerConcurrency":5}
[32m[32minfo[32m[39m: 	[32mAnalysis system initialized successfully[39m {"timestamp":"2025-06-02 11:34:25.254 PM"}
[32m[32minfo[32m[39m: 	[32mServer is running on port 4000[39m {"timestamp":"2025-06-02 11:34:25.254 PM"}
[32m[32minfo[32m[39m: 	[32mEnvironment: development[39m {"timestamp":"2025-06-02 11:34:25.254 PM"}
[32m[32minfo[32m[39m: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m {"timestamp":"2025-06-02 11:34:25.254 PM"}
âœ… Server started successfully on port 4000
[31m[31merror[31m[39m: 	[31mError verifying email transporter: getaddrinfo ENOTFOUND smtp.example.com[39m {"code":"EDNS","command":"CONN","errno":-3008,"hostname":"smtp.example.com","stack":"Error: getaddrinfo ENOTFOUND smtp.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)","syscall":"getaddrinfo","timestamp":"2025-06-02 11:36:39.553 PM"}
[31m[31merror[31m[39m: 	[31mFailed to initialize email service: Failed to initialize email service[39m {"stack":"Error: Failed to initialize email service\n    at /Users/nicholasmangubat/CascadeProjects/seodirector/backend/src/services/email.service.ts:116:18\n    at SMTPConnection.<anonymous> (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/nodemailer/lib/smtp-transport/index.js:347:24)\n    at Object.onceWrapper (node:events:633:26)\n    at SMTPConnection.emit (node:events:518:28)\n    at SMTPConnection._onError (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/nodemailer/lib/smtp-connection/index.js:799:14)\n    at Immediate.<anonymous> (/Users/nicholasmangubat/CascadeProjects/seodirector/backend/node_modules/nodemailer/lib/smtp-connection/index.js:344:52)\n    at processImmediate (node:internal/timers:485:21)","timestamp":"2025-06-02 11:36:39.559 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail service will be disabled[39m {"timestamp":"2025-06-02 11:36:39.559 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail service is not available, skipping email send[39m {"timestamp":"2025-06-02 11:36:39.559 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail verification could not be sent[39m {"email":"test1748921799225@example.com","timestamp":"2025-06-02 11:36:39.559 PM","userId":"1f182777-c26d-4b5f-80f3-3e84b1063e2c"}
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test1748921799225@example.com","event":"user_registered","ipAddress":"::1","timestamp":"2025-06-02 11:36:39.564 PM","userAgent":"axios/1.9.0","userId":"1f182777-c26d-4b5f-80f3-3e84b1063e2c"}
[32m[32minfo[32m[39m: 	[32mUser registered successfully[39m {"email":"test1748921799225@example.com","ipAddress":"::1","timestamp":"2025-06-02 11:36:39.564 PM","userId":"1f182777-c26d-4b5f-80f3-3e84b1063e2c"}
[0mPOST /api/auth/register [32m201[0m 309.208 ms - 337[0m
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test@example.com","event":"login_failed","ipAddress":"::1","reason":"user_not_found","timestamp":"2025-06-02 11:36:39.584 PM","userAgent":"axios/1.9.0","userId":null}
[0mPOST /api/auth/login [33m401[0m 16.031 ms - 166[0m
[0mGET /api/health [32m200[0m 0.448 ms - 105[0m
[33m[33mwarn[33m[39m: 	[33mEmail service is not available, skipping email send[39m {"timestamp":"2025-06-02 11:36:50.292 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail verification could not be sent[39m {"email":"test1748921810054@example.com","timestamp":"2025-06-02 11:36:50.292 PM","userId":"6e3a7f3c-95d1-4887-b101-5bfedce1e61e"}
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test1748921810054@example.com","event":"user_registered","ipAddress":"::1","timestamp":"2025-06-02 11:36:50.293 PM","userAgent":"axios/1.9.0","userId":"6e3a7f3c-95d1-4887-b101-5bfedce1e61e"}
[32m[32minfo[32m[39m: 	[32mUser registered successfully[39m {"email":"test1748921810054@example.com","ipAddress":"::1","timestamp":"2025-06-02 11:36:50.293 PM","userId":"6e3a7f3c-95d1-4887-b101-5bfedce1e61e"}
[0mPOST /api/auth/register [32m201[0m 238.124 ms - 337[0m
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"nonexistent@example.com","event":"login_failed","ipAddress":"::1","reason":"user_not_found","timestamp":"2025-06-02 11:36:50.296 PM","userAgent":"axios/1.9.0","userId":null}
[0mPOST /api/auth/login [33m401[0m 1.832 ms - 166[0m
[0mPOST /api/auth/register [33m400[0m 1.152 ms - 1332[0m
[0mHEAD /api/health [32m200[0m 2.043 ms - 105[0m
[0mGET /api/health [32m200[0m 0.129 ms - 105[0m
[33m[33mwarn[33m[39m: 	[33mEmail service is not available, skipping email send[39m {"timestamp":"2025-06-02 11:44:43.257 PM"}
[33m[33mwarn[33m[39m: 	[33mEmail verification could not be sent[39m {"email":"test1748922282@example.com","timestamp":"2025-06-02 11:44:43.257 PM","userId":"c86af706-5181-45db-b122-da8a731ce79c"}
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"test1748922282@example.com","event":"user_registered","ipAddress":"::1","timestamp":"2025-06-02 11:44:43.262 PM","userAgent":"curl/8.7.1","userId":"c86af706-5181-45db-b122-da8a731ce79c"}
[32m[32minfo[32m[39m: 	[32mUser registered successfully[39m {"email":"test1748922282@example.com","ipAddress":"::1","timestamp":"2025-06-02 11:44:43.263 PM","userId":"c86af706-5181-45db-b122-da8a731ce79c"}
[0mPOST /api/auth/register [32m201[0m 602.873 ms - 334[0m
[32m[32minfo[32m[39m: 	[32mSecurity event[39m {"email":"nonexistent@example.com","event":"login_failed","ipAddress":"::1","reason":"user_not_found","timestamp":"2025-06-02 11:45:06.220 PM","userAgent":"curl/8.7.1","userId":null}
[0mPOST /api/auth/login [33m401[0m 35.700 ms - 166[0m
[INFO] 23:50:02 Restarting: /Users/nicholasmangubat/CascadeProjects/seodirector/backend/src/config/config.ts has been modified

--- Received SIGTERM, starting graceful shutdown ---
[32m[32minfo[32m[39m: 	[32mReceived SIGTERM, starting graceful shutdown[39m {"timestamp":"2025-06-02 11:50:02.571 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:02.573 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:02.574 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down enhanced worker...[39m {"timestamp":"2025-06-02 11:50:02.575 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker shutdown complete[39m {"timestamp":"2025-06-02 11:50:02.584 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down WebSocket Gateway...[39m {"timestamp":"2025-06-02 11:50:02.585 PM"}
[32m[32minfo[32m[39m: 	[32mBroadcasted system update: System Maintenance[39m {"timestamp":"2025-06-02 11:50:02.593 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway shutdown completed[39m {"timestamp":"2025-06-02 11:50:03.596 PM"}
[32m[32minfo[32m[39m: 	[32mClosing Enhanced Queue Adapter...[39m {"timestamp":"2025-06-02 11:50:03.596 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Queue Adapter closed[39m {"timestamp":"2025-06-02 11:50:03.598 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-02 11:50:03.606 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-02 11:50:03.606 PM"}
[31m[31merror[31m[39m: 	[31mError closing HTTP server: Server is not running.[39m {"code":"ERR_SERVER_NOT_RUNNING","stack":"Error: Server is not running.\n    at Server.close (node:net:2358:12)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-02 11:50:03.609 PM"}
Process exiting with code: 1
[31m[31merror[31m[39m: 	[31mProcess exiting with code: 1[39m {"timestamp":"2025-06-02 11:50:03.610 PM"}
--- Backend process starting ---
--- http imported ---
--- express imported ---
--- socket.io imported ---
--- cors imported ---
--- helmet imported ---
--- morgan imported ---
--- redis imported ---
--- Loading config.ts ---
--- Validating environment variables ---
--- Environment variables validated successfully ---
--- logger imported ---
--- errorHandler imported ---
[32m[32minfo[32m[39m: 	[32mLoaded existing RSA keys for JWT signing[39m {"timestamp":"2025-06-02 11:50:04.391 PM"}
[32m[32minfo[32m[39m: 	[32mStarting enhanced worker...[39m {"timestamp":"2025-06-02 11:50:05.138 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker started successfully[39m {"timestamp":"2025-06-02 11:50:05.138 PM"}
--- Config loaded successfully ---
--- Express app and server initialized ---
--- Initializing Redis client ---
--- Redis client initialized ---
--- Initializing Database Manager ---
--- OpenAPI spec loaded successfully ---
--- startServer: BEGIN ---
--- Attempting Redis connection ---
--- After startServer() call ---
--- Redis connected successfully ---
[32m[32minfo[32m[39m: 	[32mConnected to Redis[39m {"timestamp":"2025-06-02 11:50:05.263 PM"}
--- Attempting database connection via Database Manager ---
[32m[32minfo[32m[39m: 	[32mAttempting database connection (attempt 1/5)[39m {"connectionString":"postgresql://nicholasmangubat@localhost:5432/rival_outranker","poolSize":25,"timeout":30000,"timestamp":"2025-06-02 11:50:05.264 PM"}
[32m[32minfo[32m[39m: 	[32mRedis clients initialized for WebSocket gateway[39m {"timestamp":"2025-06-02 11:50:05.264 PM"}
Redis client connected successfully in rate-limit middleware
[32m[32minfo[32m[39m: 	[32mConnected to Redis for JWT service[39m {"timestamp":"2025-06-02 11:50:05.264 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m {"target":"quaint::pooled","timestamp":"2025-06-02 11:50:05.266 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:50:05.266 PM"}
[32m[32minfo[32m[39m: 	[32mâœ… Database connected successfully[39m {"attempt":1,"connectionPoolSize":25,"database":"rival_outranker","pgVersion":"15.13","responseTime":"0ms","timestamp":"2025-06-02 11:50:05.320 PM"}
[32m[32minfo[32m[39m: 	[32mpg_stat_statements extension enabled for query monitoring[39m {"timestamp":"2025-06-02 11:50:05.326 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase optimized for SEO analysis workloads[39m {"effectiveCacheSize":"2GB","optimizations":13,"timestamp":"2025-06-02 11:50:05.326 PM","workMem":"256MB"}
--- Database Manager connected successfully ---
[32m[32minfo[32m[39m: 	[32mInitializing Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:05.328 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced queue adapter...[39m {"timestamp":"2025-06-02 11:50:05.328 PM"}
[32m[32minfo[32m[39m: 	[32mQueue adapter initialized and healthy[39m {"timestamp":"2025-06-02 11:50:05.331 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing WebSocket gateway...[39m {"timestamp":"2025-06-02 11:50:05.331 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway initialized[39m {"timestamp":"2025-06-02 11:50:05.433 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway initialized[39m {"timestamp":"2025-06-02 11:50:05.433 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced worker...[39m {"timestamp":"2025-06-02 11:50:05.433 PM"}
[32m[32minfo[32m[39m: 	[32mWorker event handlers configured[39m {"timestamp":"2025-06-02 11:50:05.434 PM"}
[32m[32minfo[32m[39m: 	[32mWorker initialized with concurrency: 5[39m {"timestamp":"2025-06-02 11:50:05.434 PM"}
[32m[32minfo[32m[39m: 	[32mSetting up queue cleanup every 3600000ms[39m {"timestamp":"2025-06-02 11:50:05.434 PM"}
[32m[32minfo[32m[39m: 	[32mValidating system health...[39m {"timestamp":"2025-06-02 11:50:05.434 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase connectivity verified[39m {"timestamp":"2025-06-02 11:50:05.442 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway health verified[39m {"timestamp":"2025-06-02 11:50:05.442 PM"}
[32m[32minfo[32m[39m: 	[32mSystem health validation completed successfully[39m {"timestamp":"2025-06-02 11:50:05.442 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System initialized successfully[39m {"timestamp":"2025-06-02 11:50:05.442 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:50:05.444 PM"}
[32m[32minfo[32m[39m: 	[32mSystem Status:[39m {"cleanupInterval":3600000,"initialized":true,"queueMetrics":{"active":0,"averageProcessingTime":300000,"completed":0,"delayed":0,"failed":0,"paused":0,"totalProcessingTime":0,"waiting":0},"timestamp":"2025-06-02 11:50:05.444 PM","webSocketEnabled":true,"workerConcurrency":5}
[32m[32minfo[32m[39m: 	[32mAnalysis system initialized successfully[39m {"timestamp":"2025-06-02 11:50:05.444 PM"}
[32m[32minfo[32m[39m: 	[32mServer is running on port 4000[39m {"timestamp":"2025-06-02 11:50:05.445 PM"}
[32m[32minfo[32m[39m: 	[32mEnvironment: development[39m {"timestamp":"2025-06-02 11:50:05.445 PM"}
[32m[32minfo[32m[39m: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m {"timestamp":"2025-06-02 11:50:05.445 PM"}
âœ… Server started successfully on port 4000
[INFO] 23:50:26 Restarting: /Users/nicholasmangubat/CascadeProjects/seodirector/backend/src/config/database.ts has been modified

--- Received SIGTERM, starting graceful shutdown ---
[32m[32minfo[32m[39m: 	[32mReceived SIGTERM, starting graceful shutdown[39m {"timestamp":"2025-06-02 11:50:26.543 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:26.544 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:26.545 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down enhanced worker...[39m {"timestamp":"2025-06-02 11:50:26.545 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker shutdown complete[39m {"timestamp":"2025-06-02 11:50:26.552 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down WebSocket Gateway...[39m {"timestamp":"2025-06-02 11:50:26.553 PM"}
[32m[32minfo[32m[39m: 	[32mBroadcasted system update: System Maintenance[39m {"timestamp":"2025-06-02 11:50:26.556 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway shutdown completed[39m {"timestamp":"2025-06-02 11:50:27.558 PM"}
[32m[32minfo[32m[39m: 	[32mClosing Enhanced Queue Adapter...[39m {"timestamp":"2025-06-02 11:50:27.558 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Queue Adapter closed[39m {"timestamp":"2025-06-02 11:50:27.559 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-02 11:50:27.578 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-02 11:50:27.578 PM"}
[31m[31merror[31m[39m: 	[31mError closing HTTP server: Server is not running.[39m {"code":"ERR_SERVER_NOT_RUNNING","stack":"Error: Server is not running.\n    at Server.close (node:net:2358:12)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-02 11:50:27.580 PM"}
Process exiting with code: 1
[31m[31merror[31m[39m: 	[31mProcess exiting with code: 1[39m {"timestamp":"2025-06-02 11:50:27.580 PM"}
--- Backend process starting ---
--- http imported ---
--- express imported ---
--- socket.io imported ---
--- cors imported ---
--- helmet imported ---
--- morgan imported ---
--- redis imported ---
--- Loading config.ts ---
--- Validating environment variables ---
--- Environment variables validated successfully ---
--- logger imported ---
--- errorHandler imported ---
[32m[32minfo[32m[39m: 	[32mLoaded existing RSA keys for JWT signing[39m {"timestamp":"2025-06-02 11:50:28.179 PM"}
[32m[32minfo[32m[39m: 	[32mStarting enhanced worker...[39m {"timestamp":"2025-06-02 11:50:28.817 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker started successfully[39m {"timestamp":"2025-06-02 11:50:28.817 PM"}
--- Config loaded successfully ---
--- Express app and server initialized ---
--- Initializing Redis client ---
--- Redis client initialized ---
--- Initializing Database Manager ---
--- OpenAPI spec loaded successfully ---
--- startServer: BEGIN ---
--- Attempting Redis connection ---
--- After startServer() call ---
--- Redis connected successfully ---
[32m[32minfo[32m[39m: 	[32mConnected to Redis[39m {"timestamp":"2025-06-02 11:50:28.914 PM"}
--- Attempting database connection via Database Manager ---
[32m[32minfo[32m[39m: 	[32mAttempting database connection (attempt 1/5)[39m {"connectionString":"postgresql://nicholasmangubat@localhost:5432/rival_outranker","poolSize":25,"timeout":30000,"timestamp":"2025-06-02 11:50:28.914 PM"}
[32m[32minfo[32m[39m: 	[32mRedis clients initialized for WebSocket gateway[39m {"timestamp":"2025-06-02 11:50:28.915 PM"}
Redis client connected successfully in rate-limit middleware
[32m[32minfo[32m[39m: 	[32mConnected to Redis for JWT service[39m {"timestamp":"2025-06-02 11:50:28.915 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:50:28.917 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m {"target":"quaint::pooled","timestamp":"2025-06-02 11:50:28.919 PM"}
[32m[32minfo[32m[39m: 	[32mâœ… Database connected successfully[39m {"attempt":1,"connectionPoolSize":25,"database":"rival_outranker","pgVersion":"15.13","responseTime":"0ms","timestamp":"2025-06-02 11:50:28.955 PM"}
[32m[32minfo[32m[39m: 	[32mpg_stat_statements extension enabled for query monitoring[39m {"timestamp":"2025-06-02 11:50:28.961 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase optimized for SEO analysis workloads[39m {"effectiveCacheSize":"2GB","optimizations":13,"timestamp":"2025-06-02 11:50:28.961 PM","workMem":"256MB"}
--- Database Manager connected successfully ---
[32m[32minfo[32m[39m: 	[32mInitializing Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:28.963 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced queue adapter...[39m {"timestamp":"2025-06-02 11:50:28.963 PM"}
[32m[32minfo[32m[39m: 	[32mQueue adapter initialized and healthy[39m {"timestamp":"2025-06-02 11:50:28.966 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing WebSocket gateway...[39m {"timestamp":"2025-06-02 11:50:28.966 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway initialized[39m {"timestamp":"2025-06-02 11:50:29.068 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway initialized[39m {"timestamp":"2025-06-02 11:50:29.068 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced worker...[39m {"timestamp":"2025-06-02 11:50:29.068 PM"}
[32m[32minfo[32m[39m: 	[32mWorker event handlers configured[39m {"timestamp":"2025-06-02 11:50:29.069 PM"}
[32m[32minfo[32m[39m: 	[32mWorker initialized with concurrency: 5[39m {"timestamp":"2025-06-02 11:50:29.069 PM"}
[32m[32minfo[32m[39m: 	[32mSetting up queue cleanup every 3600000ms[39m {"timestamp":"2025-06-02 11:50:29.069 PM"}
[32m[32minfo[32m[39m: 	[32mValidating system health...[39m {"timestamp":"2025-06-02 11:50:29.069 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:50:29.074 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase connectivity verified[39m {"timestamp":"2025-06-02 11:50:29.076 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway health verified[39m {"timestamp":"2025-06-02 11:50:29.076 PM"}
[32m[32minfo[32m[39m: 	[32mSystem health validation completed successfully[39m {"timestamp":"2025-06-02 11:50:29.076 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System initialized successfully[39m {"timestamp":"2025-06-02 11:50:29.076 PM"}
[32m[32minfo[32m[39m: 	[32mSystem Status:[39m {"cleanupInterval":3600000,"initialized":true,"queueMetrics":{"active":0,"averageProcessingTime":300000,"completed":0,"delayed":0,"failed":0,"paused":0,"totalProcessingTime":0,"waiting":0},"timestamp":"2025-06-02 11:50:29.076 PM","webSocketEnabled":true,"workerConcurrency":5}
[32m[32minfo[32m[39m: 	[32mAnalysis system initialized successfully[39m {"timestamp":"2025-06-02 11:50:29.076 PM"}
[32m[32minfo[32m[39m: 	[32mServer is running on port 4000[39m {"timestamp":"2025-06-02 11:50:29.077 PM"}
[32m[32minfo[32m[39m: 	[32mEnvironment: development[39m {"timestamp":"2025-06-02 11:50:29.077 PM"}
[32m[32minfo[32m[39m: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m {"timestamp":"2025-06-02 11:50:29.077 PM"}
âœ… Server started successfully on port 4000
[INFO] 23:50:40 Restarting: /Users/nicholasmangubat/CascadeProjects/seodirector/backend/src/config/database.ts has been modified

--- Received SIGTERM, starting graceful shutdown ---
[32m[32minfo[32m[39m: 	[32mReceived SIGTERM, starting graceful shutdown[39m {"timestamp":"2025-06-02 11:50:40.070 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:40.071 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:40.071 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down enhanced worker...[39m {"timestamp":"2025-06-02 11:50:40.071 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker shutdown complete[39m {"timestamp":"2025-06-02 11:50:40.072 PM"}
[32m[32minfo[32m[39m: 	[32mShutting down WebSocket Gateway...[39m {"timestamp":"2025-06-02 11:50:40.072 PM"}
[32m[32minfo[32m[39m: 	[32mBroadcasted system update: System Maintenance[39m {"timestamp":"2025-06-02 11:50:40.073 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway shutdown completed[39m {"timestamp":"2025-06-02 11:50:41.074 PM"}
[32m[32minfo[32m[39m: 	[32mClosing Enhanced Queue Adapter...[39m {"timestamp":"2025-06-02 11:50:41.074 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Queue Adapter closed[39m {"timestamp":"2025-06-02 11:50:41.075 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-02 11:50:41.081 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-02 11:50:41.081 PM"}
[31m[31merror[31m[39m: 	[31mError closing HTTP server: Server is not running.[39m {"code":"ERR_SERVER_NOT_RUNNING","stack":"Error: Server is not running.\n    at Server.close (node:net:2358:12)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-02 11:50:41.081 PM"}
Process exiting with code: 1
[31m[31merror[31m[39m: 	[31mProcess exiting with code: 1[39m {"timestamp":"2025-06-02 11:50:41.081 PM"}
--- Backend process starting ---
--- http imported ---
--- express imported ---
--- socket.io imported ---
--- cors imported ---
--- helmet imported ---
--- morgan imported ---
--- redis imported ---
--- Loading config.ts ---
--- Validating environment variables ---
--- Environment variables validated successfully ---
--- logger imported ---
--- errorHandler imported ---
[32m[32minfo[32m[39m: 	[32mLoaded existing RSA keys for JWT signing[39m {"timestamp":"2025-06-02 11:50:41.606 PM"}
[32m[32minfo[32m[39m: 	[32mStarting enhanced worker...[39m {"timestamp":"2025-06-02 11:50:42.218 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker started successfully[39m {"timestamp":"2025-06-02 11:50:42.218 PM"}
--- Config loaded successfully ---
--- Express app and server initialized ---
--- Initializing Redis client ---
--- Redis client initialized ---
--- Initializing Database Manager ---
--- OpenAPI spec loaded successfully ---
--- startServer: BEGIN ---
--- Attempting Redis connection ---
--- After startServer() call ---
--- Redis connected successfully ---
[32m[32minfo[32m[39m: 	[32mConnected to Redis[39m {"timestamp":"2025-06-02 11:50:42.304 PM"}
--- Attempting database connection via Database Manager ---
[32m[32minfo[32m[39m: 	[32mAttempting database connection (attempt 1/5)[39m {"connectionString":"postgresql://nicholasmangubat@localhost:5432/rival_outranker","poolSize":25,"timeout":30000,"timestamp":"2025-06-02 11:50:42.304 PM"}
[32m[32minfo[32m[39m: 	[32mRedis clients initialized for WebSocket gateway[39m {"timestamp":"2025-06-02 11:50:42.305 PM"}
Redis client connected successfully in rate-limit middleware
[32m[32minfo[32m[39m: 	[32mConnected to Redis for JWT service[39m {"timestamp":"2025-06-02 11:50:42.305 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:50:42.306 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m {"target":"quaint::pooled","timestamp":"2025-06-02 11:50:42.308 PM"}
[32m[32minfo[32m[39m: 	[32mâœ… Database connected successfully[39m {"attempt":1,"connectionPoolSize":25,"database":"rival_outranker","pgVersion":"15.13","responseTime":"0ms","timestamp":"2025-06-02 11:50:42.324 PM"}
[32m[32minfo[32m[39m: 	[32mpg_stat_statements extension enabled for query monitoring[39m {"timestamp":"2025-06-02 11:50:42.328 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase optimized for SEO analysis workloads[39m {"effectiveCacheSize":"2GB","optimizations":13,"timestamp":"2025-06-02 11:50:42.328 PM","workMem":"256MB"}
--- Database Manager connected successfully ---
[32m[32minfo[32m[39m: 	[32mInitializing Enhanced Analysis System...[39m {"timestamp":"2025-06-02 11:50:42.329 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced queue adapter...[39m {"timestamp":"2025-06-02 11:50:42.330 PM"}
[32m[32minfo[32m[39m: 	[32mQueue adapter initialized and healthy[39m {"timestamp":"2025-06-02 11:50:42.333 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing WebSocket gateway...[39m {"timestamp":"2025-06-02 11:50:42.333 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway initialized[39m {"timestamp":"2025-06-02 11:50:42.434 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway initialized[39m {"timestamp":"2025-06-02 11:50:42.435 PM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced worker...[39m {"timestamp":"2025-06-02 11:50:42.435 PM"}
[32m[32minfo[32m[39m: 	[32mWorker event handlers configured[39m {"timestamp":"2025-06-02 11:50:42.436 PM"}
[32m[32minfo[32m[39m: 	[32mWorker initialized with concurrency: 5[39m {"timestamp":"2025-06-02 11:50:42.436 PM"}
[32m[32minfo[32m[39m: 	[32mSetting up queue cleanup every 3600000ms[39m {"timestamp":"2025-06-02 11:50:42.436 PM"}
[32m[32minfo[32m[39m: 	[32mValidating system health...[39m {"timestamp":"2025-06-02 11:50:42.436 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-02 11:50:42.441 PM"}
[32m[32minfo[32m[39m: 	[32mDatabase connectivity verified[39m {"timestamp":"2025-06-02 11:50:42.443 PM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway health verified[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
[32m[32minfo[32m[39m: 	[32mSystem health validation completed successfully[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System initialized successfully[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
[32m[32minfo[32m[39m: 	[32mSystem Status:[39m {"cleanupInterval":3600000,"initialized":true,"queueMetrics":{"active":0,"averageProcessingTime":300000,"completed":0,"delayed":0,"failed":0,"paused":0,"totalProcessingTime":0,"waiting":0},"timestamp":"2025-06-02 11:50:42.444 PM","webSocketEnabled":true,"workerConcurrency":5}
[32m[32minfo[32m[39m: 	[32mAnalysis system initialized successfully[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
[32m[32minfo[32m[39m: 	[32mServer is running on port 4000[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
[32m[32minfo[32m[39m: 	[32mEnvironment: development[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
[32m[32minfo[32m[39m: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m {"timestamp":"2025-06-02 11:50:42.444 PM"}
âœ… Server started successfully on port 4000
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 12:21:08.733 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 12:21:14.765 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 12:41:13.406 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 12:41:19.330 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 completed jobs[39m {"timestamp":"2025-06-03 12:51:12.278 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 failed jobs[39m {"timestamp":"2025-06-03 12:51:12.279 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned queue of jobs older than 86400000ms[39m {"timestamp":"2025-06-03 12:51:12.279 AM"}
[32m[32minfo[32m[39m: 	[32mQueue cleanup completed[39m {"timestamp":"2025-06-03 12:51:12.280 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:01:13.386 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:01:19.395 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:10:14.451 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:10:20.463 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:21:18.501 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:21:24.506 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:31:18.064 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:31:24.062 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:41:18.445 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 01:41:24.447 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 completed jobs[39m {"timestamp":"2025-06-03 01:51:22.235 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 failed jobs[39m {"timestamp":"2025-06-03 01:51:22.239 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned queue of jobs older than 86400000ms[39m {"timestamp":"2025-06-03 01:51:22.240 AM"}
[32m[32minfo[32m[39m: 	[32mQueue cleanup completed[39m {"timestamp":"2025-06-03 01:51:22.241 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:01:14.531 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:01:20.585 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:31:33.698 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:31:39.695 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:41:34.434 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:41:40.436 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 completed jobs[39m {"timestamp":"2025-06-03 02:51:35.619 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 failed jobs[39m {"timestamp":"2025-06-03 02:51:35.620 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned queue of jobs older than 86400000ms[39m {"timestamp":"2025-06-03 02:51:35.620 AM"}
[32m[32minfo[32m[39m: 	[32mQueue cleanup completed[39m {"timestamp":"2025-06-03 02:51:35.620 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:52:45.647 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:52:45.647 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:52:51.606 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 02:52:51.606 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 03:31:43.549 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 03:31:43.549 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 03:31:49.558 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 03:31:49.559 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 completed jobs[39m {"timestamp":"2025-06-03 03:51:44.901 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 failed jobs[39m {"timestamp":"2025-06-03 03:51:44.902 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned queue of jobs older than 86400000ms[39m {"timestamp":"2025-06-03 03:51:44.902 AM"}
[32m[32minfo[32m[39m: 	[32mQueue cleanup completed[39m {"timestamp":"2025-06-03 03:51:44.903 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 03:51:45.908 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 03:51:51.925 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:01:46.663 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:10:25.340 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:10:31.352 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:21:53.735 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:21:59.749 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:23:20.628 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:23:26.635 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 completed jobs[39m {"timestamp":"2025-06-03 04:53:50.574 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 failed jobs[39m {"timestamp":"2025-06-03 04:53:50.575 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned queue of jobs older than 86400000ms[39m {"timestamp":"2025-06-03 04:53:50.575 AM"}
[32m[32minfo[32m[39m: 	[32mQueue cleanup completed[39m {"timestamp":"2025-06-03 04:53:50.575 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 04:53:51.588 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 05:02:46.508 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 05:02:52.512 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 05:20:50.474 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 05:51:07.049 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 05:51:12.974 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 completed jobs[39m {"timestamp":"2025-06-03 05:53:50.555 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned 0 failed jobs[39m {"timestamp":"2025-06-03 05:53:50.557 AM"}
[32m[32minfo[32m[39m: 	[32mCleaned queue of jobs older than 86400000ms[39m {"timestamp":"2025-06-03 05:53:50.557 AM"}
[32m[32minfo[32m[39m: 	[32mQueue cleanup completed[39m {"timestamp":"2025-06-03 05:53:50.557 AM"}
[INFO] 06:00:47 Restarting: /Users/nicholasmangubat/CascadeProjects/seodirector/backend/package.json has been modified

--- Received SIGTERM, starting graceful shutdown ---
[32m[32minfo[32m[39m: 	[32mReceived SIGTERM, starting graceful shutdown[39m {"timestamp":"2025-06-03 06:00:47.132 AM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-03 06:00:47.135 AM"}
[32m[32minfo[32m[39m: 	[32mShutting down Enhanced Analysis System...[39m {"timestamp":"2025-06-03 06:00:47.135 AM"}
[32m[32minfo[32m[39m: 	[32mShutting down enhanced worker...[39m {"timestamp":"2025-06-03 06:00:47.136 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker shutdown complete[39m {"timestamp":"2025-06-03 06:00:47.196 AM"}
[32m[32minfo[32m[39m: 	[32mShutting down WebSocket Gateway...[39m {"timestamp":"2025-06-03 06:00:47.198 AM"}
[32m[32minfo[32m[39m: 	[32mBroadcasted system update: System Maintenance[39m {"timestamp":"2025-06-03 06:00:47.205 AM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway shutdown completed[39m {"timestamp":"2025-06-03 06:00:48.207 AM"}
[32m[32minfo[32m[39m: 	[32mClosing Enhanced Queue Adapter...[39m {"timestamp":"2025-06-03 06:00:48.208 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Queue Adapter closed[39m {"timestamp":"2025-06-03 06:00:48.212 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-03 06:00:48.222 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System shutdown completed[39m {"timestamp":"2025-06-03 06:00:48.222 AM"}
[31m[31merror[31m[39m: 	[31mError closing HTTP server: Server is not running.[39m {"code":"ERR_SERVER_NOT_RUNNING","stack":"Error: Server is not running.\n    at Server.close (node:net:2358:12)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:530:35)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2025-06-03 06:00:48.226 AM"}
Process exiting with code: 1
[31m[31merror[31m[39m: 	[31mProcess exiting with code: 1[39m {"timestamp":"2025-06-03 06:00:48.227 AM"}
--- Backend process starting ---
--- http imported ---
--- express imported ---
--- socket.io imported ---
--- cors imported ---
--- helmet imported ---
--- morgan imported ---
--- redis imported ---
--- Loading config.ts ---
--- Validating environment variables ---
--- Environment variables validated successfully ---
--- logger imported ---
--- errorHandler imported ---
[32m[32minfo[32m[39m: 	[32mLoaded existing RSA keys for JWT signing[39m {"timestamp":"2025-06-03 06:00:48.913 AM"}
[32m[32minfo[32m[39m: 	[32mStarting enhanced worker...[39m {"timestamp":"2025-06-03 06:00:49.648 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker started successfully[39m {"timestamp":"2025-06-03 06:00:49.648 AM"}
--- Config loaded successfully ---
--- Express app and server initialized ---
--- Initializing Redis client ---
--- Redis client initialized ---
--- Initializing Database Manager ---
--- OpenAPI spec loaded successfully ---
--- startServer: BEGIN ---
--- Attempting Redis connection ---
--- After startServer() call ---
--- Redis connected successfully ---
[32m[32minfo[32m[39m: 	[32mConnected to Redis[39m {"timestamp":"2025-06-03 06:00:49.746 AM"}
--- Attempting database connection via Database Manager ---
[32m[32minfo[32m[39m: 	[32mAttempting database connection (attempt 1/5)[39m {"connectionString":"postgresql://nicholasmangubat@localhost:5432/rival_outranker","poolSize":25,"timeout":30000,"timestamp":"2025-06-03 06:00:49.746 AM"}
[32m[32minfo[32m[39m: 	[32mRedis clients initialized for WebSocket gateway[39m {"timestamp":"2025-06-03 06:00:49.747 AM"}
Redis client connected successfully in rate-limit middleware
[32m[32minfo[32m[39m: 	[32mConnected to Redis for JWT service[39m {"timestamp":"2025-06-03 06:00:49.747 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 06:00:49.749 AM"}
[32m[32minfo[32m[39m: 	[32mDatabase info: Starting a postgresql pool with 17 connections.[39m {"target":"quaint::pooled","timestamp":"2025-06-03 06:00:49.750 AM"}
[32m[32minfo[32m[39m: 	[32mâœ… Database connected successfully[39m {"attempt":1,"connectionPoolSize":25,"database":"rival_outranker","pgVersion":"15.13","responseTime":"0ms","timestamp":"2025-06-03 06:00:49.788 AM"}
[32m[32minfo[32m[39m: 	[32mpg_stat_statements extension enabled for query monitoring[39m {"timestamp":"2025-06-03 06:00:49.792 AM"}
[32m[32minfo[32m[39m: 	[32mDatabase optimized for SEO analysis workloads[39m {"effectiveCacheSize":"2GB","optimizations":13,"timestamp":"2025-06-03 06:00:49.792 AM","workMem":"256MB"}
--- Database Manager connected successfully ---
[32m[32minfo[32m[39m: 	[32mInitializing Enhanced Analysis System...[39m {"timestamp":"2025-06-03 06:00:49.794 AM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced queue adapter...[39m {"timestamp":"2025-06-03 06:00:49.794 AM"}
[32m[32minfo[32m[39m: 	[32mQueue adapter initialized and healthy[39m {"timestamp":"2025-06-03 06:00:49.800 AM"}
[32m[32minfo[32m[39m: 	[32mInitializing WebSocket gateway...[39m {"timestamp":"2025-06-03 06:00:49.800 AM"}
[32m[32minfo[32m[39m: 	[32mWebSocket Gateway initialized[39m {"timestamp":"2025-06-03 06:00:49.901 AM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway initialized[39m {"timestamp":"2025-06-03 06:00:49.901 AM"}
[32m[32minfo[32m[39m: 	[32mInitializing enhanced worker...[39m {"timestamp":"2025-06-03 06:00:49.901 AM"}
[32m[32minfo[32m[39m: 	[32mWorker event handlers configured[39m {"timestamp":"2025-06-03 06:00:49.902 AM"}
[32m[32minfo[32m[39m: 	[32mWorker initialized with concurrency: 5[39m {"timestamp":"2025-06-03 06:00:49.902 AM"}
[32m[32minfo[32m[39m: 	[32mSetting up queue cleanup every 3600000ms[39m {"timestamp":"2025-06-03 06:00:49.902 AM"}
[32m[32minfo[32m[39m: 	[32mValidating system health...[39m {"timestamp":"2025-06-03 06:00:49.902 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced worker is ready to process analysis jobs[39m {"timestamp":"2025-06-03 06:00:49.908 AM"}
[32m[32minfo[32m[39m: 	[32mDatabase connectivity verified[39m {"timestamp":"2025-06-03 06:00:49.912 AM"}
[32m[32minfo[32m[39m: 	[32mWebSocket gateway health verified[39m {"timestamp":"2025-06-03 06:00:49.912 AM"}
[32m[32minfo[32m[39m: 	[32mSystem health validation completed successfully[39m {"timestamp":"2025-06-03 06:00:49.912 AM"}
[32m[32minfo[32m[39m: 	[32mEnhanced Analysis System initialized successfully[39m {"timestamp":"2025-06-03 06:00:49.912 AM"}
[32m[32minfo[32m[39m: 	[32mSystem Status:[39m {"cleanupInterval":3600000,"initialized":true,"queueMetrics":{"active":0,"averageProcessingTime":300000,"completed":0,"delayed":0,"failed":0,"paused":0,"totalProcessingTime":0,"waiting":0},"timestamp":"2025-06-03 06:00:49.912 AM","webSocketEnabled":true,"workerConcurrency":5}
[32m[32minfo[32m[39m: 	[32mAnalysis system initialized successfully[39m {"timestamp":"2025-06-03 06:00:49.912 AM"}
[32m[32minfo[32m[39m: 	[32mServer is running on port 4000[39m {"timestamp":"2025-06-03 06:00:49.913 AM"}
[32m[32minfo[32m[39m: 	[32mEnvironment: development[39m {"timestamp":"2025-06-03 06:00:49.913 AM"}
[32m[32minfo[32m[39m: 	[32mAPI Documentation: http://localhost:4000/api-docs[39m {"timestamp":"2025-06-03 06:00:49.913 AM"}
âœ… Server started successfully on port 4000
